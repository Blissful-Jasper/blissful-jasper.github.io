<!DOCTYPE html>
<html lang="zh-cn">

  <head><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Gallery | Xianpu Ji</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Gallery" />
<meta name="author" content="Xianpu Ji" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MRG ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚" />
<meta property="og:description" content="æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MRG ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚" />
<link rel="canonical" href="https://blissful-jasper.github.io/gallery.html" />
<meta property="og:url" content="https://blissful-jasper.github.io/gallery.html" />
<meta property="og:site_name" content="Xianpu Ji" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gallery" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Xianpu Ji"},"description":"æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MRG ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚","headline":"Gallery","url":"https://blissful-jasper.github.io/gallery.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/code-highlighting.css">
  <link rel="stylesheet" href="/assets/gfs-data-styles.css"><link type="application/atom+xml" rel="alternate" href="https://blissful-jasper.github.io/feed.xml" title="Xianpu Ji" /><!-- DNS Prefetch for external resources -->
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  
  <!-- Preload critical fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"></noscript>
  
  <!-- Load non-critical CSS asynchronously -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></noscript>
  
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css"></noscript>
  
  <!-- MathJax - Load only when needed -->
  
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js">
  </script>
  
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams'
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  
  <!-- Prism.js for code highlighting with better theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
</head>
<!-- å…¨ç«™é€šç”¨åŠŸèƒ½æ ·å¼ --><!-- å…¨ç«™é€šç”¨åŠŸèƒ½æ ·å¼å’Œè„šæœ¬ -->

<!-- Complete Theme System -->
<link rel="stylesheet" href="/assets/theme-system-complete.css">
<link rel="stylesheet" href="/assets/theme-switcher.css">

<!-- é˜…è¯»è¿›åº¦æ¡æ ·å¼ -->
<link rel="stylesheet" href="/assets/reading-progress.css">

<!-- è®¿é—®ç»Ÿè®¡å’Œåœ°å›¾æ ·å¼ -->
<link rel="stylesheet" href="/assets/analytics-map.css">

<!-- Enhanced Header Styles -->
<link rel="stylesheet" href="/assets/header-styles.css">

<!-- Modern Homepage Layout -->
<link rel="stylesheet" href="/assets/homepage-layout.css">
<link rel="stylesheet" href="/assets/homepage-gallery-journals.css">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

<!-- ç¡®ä¿ Font Awesome å›¾æ ‡å¯ç”¨ -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


<!-- Theme Initialization Script -->
<script>
  // Initialize theme from localStorage before page renders
  (function() {
    const savedTheme = localStorage.getItem('theme') || 'blue';
    const savedMode = localStorage.getItem('mode') || 'light';
    
    document.documentElement.setAttribute('data-theme', savedMode);
    document.documentElement.classList.add(`theme-${savedTheme}`);
  })();
</script>
<!-- Modern Theme Styles -->
    <link rel="stylesheet" href="/assets/modern-theme.css">
    <link rel="stylesheet" href="/assets/header-styles.css">
    <link rel="stylesheet" href="/assets/footer-styles.css">
    
    <!-- Page-specific styles -->
    
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Preload critical scripts -->
    <link rel="preload" href="/assets/modern-interactions.js" as="script">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery</title>
    <script>
        const AI_API_KEY = "";
    </script>
  </head>

  <body class="modern-layout">
    <!-- Header --><header class="modern-header" role="banner">
    <nav class="nav-container" aria-label="Main navigation">
        <div class="nav-brand">
            <a href="/" class="logo" aria-label="Home">
                
                    <span class="logo-text">Xianpu Ji</span>
                
            </a>
        </div>
        
        <ul class="nav-links" role="menubar">
            <li role="menuitem"><a href="/about.html" class="nav-link">About</a></li>
            <li role="menuitem"><a href="/research.html" class="nav-link">Research</a></li>
            <li role="menuitem"><a href="/publications.html" class="nav-link">Publications</a></li>
            <li role="menuitem"><a href="/blog.html" class="nav-link">Blog</a></li>
            <li role="menuitem"><a href="/journals.html" class="nav-link">Journals</a></li>
            <li role="menuitem"><a href="/gallery.html" class="nav-link">Gallery</a></li>
            <li role="menuitem"><a href="/links.html" class="nav-link">Links</a></li>
            <li role="menuitem"><a href="/maps.html" class="nav-link">Maps</a></li>
            <li role="menuitem"><a href="/contact.html" class="nav-link">Contact</a></li>

        </ul>
        
        <div class="nav-actions">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" type="button">
                <i class="fas fa-moon" id="themeIcon" aria-hidden="true"></i>
            </button>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu" type="button">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </nav>
    
    <!-- Mobile menu overlay -->
    <div class="mobile-menu" id="mobileMenu" role="menu">
        <div class="mobile-menu-content">
            <ul class="mobile-nav-links">
                <li><a href="/about.html" class="mobile-nav-link">About</a></li>
                <li><a href="/research.html" class="mobile-nav-link">Research</a></li>
                <li><a href="/publications.html" class="mobile-nav-link">Publications</a></li>
                <li><a href="/blog.html" class="mobile-nav-link">Blog</a></li>
                <li><a href="/journals.html" class="mobile-nav-link">Journals</a></li>
                <li><a href="/gallery.html" class="mobile-nav-link">Gallery</a></li>
                <li><a href="/links.html" class="mobile-nav-link">Links</a></li>
                <li><a href="/maps.html" class="mobile-nav-link">Maps</a></li>
                <li><a href="/contact.html" class="mobile-nav-link">Contact</a></li>
            </ul>
        </div>
    </div>
</header>
<!-- Main Content -->
    <main class="main-content" role="main">
      <div class="content-wrapper">
        <article class="post">
  <header class="post-header">
    <h1 class="post-title">Gallery</h1>
  </header>

  <div class="post-content">
    <link rel="stylesheet" href="/assets/modern-gallery.css">
<link rel="stylesheet" href="/assets/modern-gallery-advanced.css">

<!-- ç°ä»£åŒ–å›¾ç‰‡ç”»å»Š -->
<div class="gallery-page">
  
  <!-- Hero Section -->
  <section class="gallery-hero">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          <span class="title-icon">ğŸ“¸</span>
          æ‘„å½±ä½œå“é›†
        </h1>
        <p class="hero-subtitle">è®°å½•ç§‘ç ”è·¯ä¸Šçš„ç¾å¥½ç¬é—´</p>
        
        <!-- å¿«é€Ÿç»Ÿè®¡ -->
        <div class="hero-stats">
          
          
          <div class="stat-item">
            <span class="stat-number">4</span>
            <span class="stat-label">å¼ ç…§ç‰‡</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">1</span>
            <span class="stat-label">ä¸ªåˆ†ç±»</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">å¹´æ‹æ‘„</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- åŠ¨ç”»èƒŒæ™¯ -->
    <div class="hero-background">
      <div class="bg-shape shape-1"></div>
      <div class="bg-shape shape-2"></div>
      <div class="bg-shape shape-3"></div>
    </div>
  </section>

  <!-- è¿‡æ»¤å™¨ -->
  <section class="filter-section">
    <div class="container">
      <div class="filter-container">
        <button class="filter-btn active" data-category="all">
          <span class="filter-icon">ğŸ¯</span>
          å…¨éƒ¨
        </button>
        
          <button class="filter-btn" data-category="nature">
            <span class="filter-icon">ğŸ“·</span>
            è‡ªç„¶é£å…‰
          </button>
        
      </div>
    </div>
  </section>

  <!-- å›¾ç‰‡ç½‘æ ¼ -->
  <section class="gallery-section">
    <div class="container">
      <div class="gallery-grid" id="galleryGrid">
        
          
            <div class="gallery-item" data-category="nature" data-aos="fade-up">
              <div class="photo-card">
                <div class="photo-container">
                  <img src="/pictures/DSC_1398.jpg" 
                       alt="æ³¢æµªç ´ç¢" 
                       loading="lazy"
                       class="photo-image clickable-image"
                       onclick="try { viewOriginalImage('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢'); }"
                       title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾ - æ³¢æµªç ´ç¢"
                       style="cursor: pointer;">
                  
                  <!-- ç‚¹å‡»æç¤ºå›¾æ ‡ -->
                  <div class="click-hint">
                    <i class="fas fa-search-plus"></i>
                    <span>ç‚¹å‡»æŸ¥çœ‹åŸå›¾</span>
                  </div>
                  
                  <!-- æ‚¬åœè¦†ç›–å±‚ -->
                  <div class="photo-overlay">
                    <div class="overlay-content">
                      <h3 class="photo-title">æ³¢æµªç ´ç¢</h3>
                      <p class="photo-description">åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„æ³¢æµªç ´ç¢</p>
                      
                      <!-- ç…§ç‰‡å…ƒä¿¡æ¯ -->
                      <div class="photo-meta">
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“</i>
                            ä¸‰äºšï¼Œä¸­å›½
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“…</i>
                            <time datetime="2025-05-26"></time>2025å¹´05æœˆ26æ—¥</time>
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“·</i>
                            Nikon z5
                          </span>
                        
                      </div>
                      
                      <!-- æ“ä½œæŒ‰é’® -->
                      <div class="photo-actions">
                        <button class="action-btn primary" 
                                onclick="try { openAdvancedLightbox('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢', 'åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„æ³¢æµªç ´ç¢', '2025-05-26', 'ä¸‰äºšï¼Œä¸­å›½', 'Nikon z5', 'ç§‘è€ƒï¼Œæµ·æ´‹'); } catch(e) { console.error(e); simpleLightbox('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢', 'åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„æ³¢æµªç ´ç¢'); }">
                          <i class="icon">ğŸ”</i>
                          æŸ¥çœ‹è¯¦æƒ…
                        </button>
                        <button class="action-btn secondary" 
                                onclick="try { viewOriginalImage('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1398.jpg', 'æ³¢æµªç ´ç¢'); }">
                          <i class="icon">ğŸ–¼ï¸</i>
                          åŸå›¾
                        </button>
                        <button class="action-btn tertiary" 
                                onclick="try { sharePhoto('æ³¢æµªç ´ç¢', 'https://blissful-jasper.github.io/pictures/DSC_1398.jpg'); } catch(e) { console.error(e); alert('åˆ†äº«åŠŸèƒ½ï¼šæ³¢æµªç ´ç¢'); }">
                          <i class="icon">ğŸ“¤</i>
                          åˆ†äº«
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- ç…§ç‰‡æ ‡ç­¾ -->
                
                  <div class="photo-tags">
                    
                      <span class="tag">ç§‘è€ƒï¼Œæµ·æ´‹</span>
                    
                  </div>
                
              </div>
            </div>
          
            <div class="gallery-item" data-category="nature" data-aos="fade-up">
              <div class="photo-card">
                <div class="photo-container">
                  <img src="/pictures/DSC_1361.jpg" 
                       alt="èˆ¹å°¾çš„æ³¢æµª" 
                       loading="lazy"
                       class="photo-image clickable-image"
                       onclick="try { viewOriginalImage('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª'); }"
                       title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾ - èˆ¹å°¾çš„æ³¢æµª"
                       style="cursor: pointer;">
                  
                  <!-- ç‚¹å‡»æç¤ºå›¾æ ‡ -->
                  <div class="click-hint">
                    <i class="fas fa-search-plus"></i>
                    <span>ç‚¹å‡»æŸ¥çœ‹åŸå›¾</span>
                  </div>
                  
                  <!-- æ‚¬åœè¦†ç›–å±‚ -->
                  <div class="photo-overlay">
                    <div class="overlay-content">
                      <h3 class="photo-title">èˆ¹å°¾çš„æ³¢æµª</h3>
                      <p class="photo-description">èˆ¹å°¾çš„æ³¢æµª</p>
                      
                      <!-- ç…§ç‰‡å…ƒä¿¡æ¯ -->
                      <div class="photo-meta">
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“</i>
                            ä¸‰äºšï¼Œä¸­å›½
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“…</i>
                            <time datetime="2025-05-27"></time>2025å¹´05æœˆ27æ—¥</time>
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“·</i>
                            Nikon z5
                          </span>
                        
                      </div>
                      
                      <!-- æ“ä½œæŒ‰é’® -->
                      <div class="photo-actions">
                        <button class="action-btn primary" 
                                onclick="try { openAdvancedLightbox('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª', 'èˆ¹å°¾çš„æ³¢æµª', '2025-05-27', 'ä¸‰äºšï¼Œä¸­å›½', 'Nikon z5', 'ç§‘è€ƒï¼Œæµ·æ´‹'); } catch(e) { console.error(e); simpleLightbox('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª', 'èˆ¹å°¾çš„æ³¢æµª'); }">
                          <i class="icon">ğŸ”</i>
                          æŸ¥çœ‹è¯¦æƒ…
                        </button>
                        <button class="action-btn secondary" 
                                onclick="try { viewOriginalImage('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1361.jpg', 'èˆ¹å°¾çš„æ³¢æµª'); }">
                          <i class="icon">ğŸ–¼ï¸</i>
                          åŸå›¾
                        </button>
                        <button class="action-btn tertiary" 
                                onclick="try { sharePhoto('èˆ¹å°¾çš„æ³¢æµª', 'https://blissful-jasper.github.io/pictures/DSC_1361.jpg'); } catch(e) { console.error(e); alert('åˆ†äº«åŠŸèƒ½ï¼šèˆ¹å°¾çš„æ³¢æµª'); }">
                          <i class="icon">ğŸ“¤</i>
                          åˆ†äº«
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- ç…§ç‰‡æ ‡ç­¾ -->
                
                  <div class="photo-tags">
                    
                      <span class="tag">ç§‘è€ƒï¼Œæµ·æ´‹</span>
                    
                  </div>
                
              </div>
            </div>
          
            <div class="gallery-item" data-category="nature" data-aos="fade-up">
              <div class="photo-card">
                <div class="photo-container">
                  <img src="/pictures/DSC_1545.jpg" 
                       alt="çº¢ä¸è“" 
                       loading="lazy"
                       class="photo-image clickable-image"
                       onclick="try { viewOriginalImage('/pictures/DSC_1545.jpg', 'çº¢ä¸è“'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1545.jpg', 'çº¢ä¸è“'); }"
                       title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾ - çº¢ä¸è“"
                       style="cursor: pointer;">
                  
                  <!-- ç‚¹å‡»æç¤ºå›¾æ ‡ -->
                  <div class="click-hint">
                    <i class="fas fa-search-plus"></i>
                    <span>ç‚¹å‡»æŸ¥çœ‹åŸå›¾</span>
                  </div>
                  
                  <!-- æ‚¬åœè¦†ç›–å±‚ -->
                  <div class="photo-overlay">
                    <div class="overlay-content">
                      <h3 class="photo-title">çº¢ä¸è“</h3>
                      <p class="photo-description">åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„çº¢è‰²ç”²æ¿ä¸è“è‰²çš„å¤©ç©º</p>
                      
                      <!-- ç…§ç‰‡å…ƒä¿¡æ¯ -->
                      <div class="photo-meta">
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“</i>
                            ä¸‰äºšï¼Œä¸­å›½
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“…</i>
                            <time datetime="2025-05-26"></time>2025å¹´05æœˆ26æ—¥</time>
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“·</i>
                            Nikon z5
                          </span>
                        
                      </div>
                      
                      <!-- æ“ä½œæŒ‰é’® -->
                      <div class="photo-actions">
                        <button class="action-btn primary" 
                                onclick="try { openAdvancedLightbox('/pictures/DSC_1545.jpg', 'çº¢ä¸è“', 'åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„çº¢è‰²ç”²æ¿ä¸è“è‰²çš„å¤©ç©º', '2025-05-26', 'ä¸‰äºšï¼Œä¸­å›½', 'Nikon z5', 'ç§‘è€ƒï¼Œæµ·æ´‹'); } catch(e) { console.error(e); simpleLightbox('/pictures/DSC_1545.jpg', 'çº¢ä¸è“', 'åœ¨ç§‘è€ƒèˆ¹ä¸Šæ‹æ‘„çš„çº¢è‰²ç”²æ¿ä¸è“è‰²çš„å¤©ç©º'); }">
                          <i class="icon">ğŸ”</i>
                          æŸ¥çœ‹è¯¦æƒ…
                        </button>
                        <button class="action-btn secondary" 
                                onclick="try { viewOriginalImage('/pictures/DSC_1545.jpg', 'çº¢ä¸è“'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1545.jpg', 'çº¢ä¸è“'); }">
                          <i class="icon">ğŸ–¼ï¸</i>
                          åŸå›¾
                        </button>
                        <button class="action-btn tertiary" 
                                onclick="try { sharePhoto('çº¢ä¸è“', 'https://blissful-jasper.github.io/pictures/DSC_1545.jpg'); } catch(e) { console.error(e); alert('åˆ†äº«åŠŸèƒ½ï¼šçº¢ä¸è“'); }">
                          <i class="icon">ğŸ“¤</i>
                          åˆ†äº«
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- ç…§ç‰‡æ ‡ç­¾ -->
                
                  <div class="photo-tags">
                    
                      <span class="tag">ç§‘è€ƒï¼Œæµ·æ´‹</span>
                    
                  </div>
                
              </div>
            </div>
          
            <div class="gallery-item" data-category="nature" data-aos="fade-up">
              <div class="photo-card">
                <div class="photo-container">
                  <img src="/pictures/DSC_1667.jpg" 
                       alt="æ—¥è½-å­¤èˆ¹" 
                       loading="lazy"
                       class="photo-image clickable-image"
                       onclick="try { viewOriginalImage('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹'); }"
                       title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾ - æ—¥è½-å­¤èˆ¹"
                       style="cursor: pointer;">
                  
                  <!-- ç‚¹å‡»æç¤ºå›¾æ ‡ -->
                  <div class="click-hint">
                    <i class="fas fa-search-plus"></i>
                    <span>ç‚¹å‡»æŸ¥çœ‹åŸå›¾</span>
                  </div>
                  
                  <!-- æ‚¬åœè¦†ç›–å±‚ -->
                  <div class="photo-overlay">
                    <div class="overlay-content">
                      <h3 class="photo-title">æ—¥è½-å­¤èˆ¹</h3>
                      <p class="photo-description">æŸ“ä¸Šçº¢è‰²çš„å¤©ç©ºä¸ä¸€è‰˜å­¤èˆ¹</p>
                      
                      <!-- ç…§ç‰‡å…ƒä¿¡æ¯ -->
                      <div class="photo-meta">
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“</i>
                            ä¸‰äºšï¼Œä¸­å›½
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“…</i>
                            <time datetime="2025-05-27"></time>2025å¹´05æœˆ27æ—¥</time>
                          </span>
                        
                        
                          <span class="meta-item">
                            <i class="icon">ğŸ“·</i>
                            Nikon z5
                          </span>
                        
                      </div>
                      
                      <!-- æ“ä½œæŒ‰é’® -->
                      <div class="photo-actions">
                        <button class="action-btn primary" 
                                onclick="try { openAdvancedLightbox('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹', 'æŸ“ä¸Šçº¢è‰²çš„å¤©ç©ºä¸ä¸€è‰˜å­¤èˆ¹', '2025-05-27', 'ä¸‰äºšï¼Œä¸­å›½', 'Nikon z5', 'ç§‘è€ƒï¼Œæµ·æ´‹'); } catch(e) { console.error(e); simpleLightbox('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹', 'æŸ“ä¸Šçº¢è‰²çš„å¤©ç©ºä¸ä¸€è‰˜å­¤èˆ¹'); }">
                          <i class="icon">ğŸ”</i>
                          æŸ¥çœ‹è¯¦æƒ…
                        </button>
                        <button class="action-btn secondary" 
                                onclick="try { viewOriginalImage('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹'); } catch(e) { console.error(e); simpleViewOriginal('/pictures/DSC_1667.jpg', 'æ—¥è½-å­¤èˆ¹'); }">
                          <i class="icon">ğŸ–¼ï¸</i>
                          åŸå›¾
                        </button>
                        <button class="action-btn tertiary" 
                                onclick="try { sharePhoto('æ—¥è½-å­¤èˆ¹', 'https://blissful-jasper.github.io/pictures/DSC_1667.jpg'); } catch(e) { console.error(e); alert('åˆ†äº«åŠŸèƒ½ï¼šæ—¥è½-å­¤èˆ¹'); }">
                          <i class="icon">ğŸ“¤</i>
                          åˆ†äº«
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- ç…§ç‰‡æ ‡ç­¾ -->
                
                  <div class="photo-tags">
                    
                      <span class="tag">ç§‘è€ƒï¼Œæµ·æ´‹</span>
                    
                  </div>
                
              </div>
            </div>
          
        
      </div>
      
      <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
      <div class="load-more-container">
        <button class="load-more-btn" id="loadMoreBtn" style="display: none;">
          <span class="btn-text">åŠ è½½æ›´å¤š</span>
          <i class="icon">â¬‡ï¸</i>
        </button>
      </div>
    </div>
  </section>
</div>

<!-- ç°ä»£åŒ–ç¯ç®±æ¨¡æ€æ¡† -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-backdrop" onclick="closeLightbox()"></div>
  <div class="lightbox-container">
    
    <!-- å¤´éƒ¨æ§åˆ¶æ  -->
    <div class="lightbox-header">
      <div class="lightbox-title-area">
        <h3 id="lightboxTitleHeader" class="lightbox-main-title"></h3>
        <div class="lightbox-meta-quick">
          <span id="lightboxDateHeader" class="meta-date"></span>
          <span id="lightboxLocationHeader" class="meta-location"></span>
        </div>
      </div>
      <div class="lightbox-controls">
        <button class="control-btn tooltip" data-tooltip="æŸ¥çœ‹åŸå›¾" onclick="viewOriginalFromLightbox()">
          <i class="icon">ğŸ–¼ï¸</i>
          <span>åŸå›¾</span>
        </button>
        <button class="control-btn tooltip" data-tooltip="ä¸‹è½½å›¾ç‰‡" onclick="downloadImage()">
          <i class="icon">â¬‡ï¸</i>
          <span>ä¸‹è½½</span>
        </button>
        <button class="control-btn tooltip" data-tooltip="åˆ†äº«å›¾ç‰‡" onclick="shareCurrentImage()">
          <i class="icon">ğŸ“¤</i>
          <span>åˆ†äº«</span>
        </button>
        <button class="control-btn tooltip" data-tooltip="EXIFä¿¡æ¯" onclick="toggleExifInfo()">
          <i class="icon">â„¹ï¸</i>
          <span>ä¿¡æ¯</span>
        </button>
      </div>
      <button class="close-btn tooltip" data-tooltip="å…³é—­ (ESC)" onclick="closeLightbox()">
        <i class="icon">âœ–ï¸</i>
      </button>
    </div>
    
    <!-- å›¾ç‰‡å®¹å™¨ -->
    <div class="lightbox-image-container">
      <img id="lightboxImage" src="" alt="" class="lightbox-image">
      <div class="image-loader" id="imageLoader">
        <div class="loader-spinner"></div>
        <span>é«˜è´¨é‡å›¾ç‰‡åŠ è½½ä¸­...</span>
      </div>
      
      <!-- å›¾ç‰‡å¯¼èˆª -->
      <div class="image-navigation">
        <button class="nav-btn prev-btn tooltip" data-tooltip="ä¸Šä¸€å¼  (â†)" onclick="navigateImage(-1)">
          <i class="icon">â—€ï¸</i>
        </button>
        <button class="nav-btn next-btn tooltip" data-tooltip="ä¸‹ä¸€å¼  (â†’)" onclick="navigateImage(1)">
          <i class="icon">â–¶ï¸</i>
        </button>
      </div>
      
      <!-- ç¼©æ”¾æ§åˆ¶ -->
      <div class="zoom-overlay">
        <div class="zoom-controls">
          <button class="zoom-btn tooltip" data-tooltip="æ”¾å¤§ (+)" onclick="zoomImage(1.2)">
            <i class="icon">ğŸ”</i>
          </button>
          <button class="zoom-btn tooltip" data-tooltip="ç¼©å° (-)" onclick="zoomImage(0.8)">
            <i class="icon">ğŸ”</i>
          </button>
          <button class="zoom-btn tooltip" data-tooltip="é‡ç½® (0)" onclick="resetZoom()">
            <i class="icon">âšª</i>
          </button>
          <button class="zoom-btn tooltip" data-tooltip="å…¨å±" onclick="toggleFullscreen()">
            <i class="icon">â›¶</i>
          </button>
        </div>
        <div class="zoom-indicator">
          <span id="zoomLevel">100%</span>
        </div>
      </div>
    </div>
    
    <!-- è¯¦ç»†ä¿¡æ¯é¢æ¿ -->
    <div class="lightbox-info-panel">
      <div class="info-tabs">
        <button class="tab-btn active" data-tab="details">è¯¦æƒ…</button>
        <button class="tab-btn" data-tab="exif">EXIF</button>
        <button class="tab-btn" data-tab="metadata">å…ƒæ•°æ®</button>
      </div>
      
      <div class="tab-content">
        <div class="tab-panel active" id="details-panel">
          <h3 id="lightboxTitle" class="info-title"></h3>
          <p id="lightboxDescription" class="info-description"></p>
          
          <div class="detailed-meta">
            <div class="meta-grid">
              <div class="meta-row">
                <span class="meta-label">ğŸ“… æ‹æ‘„æ—¶é—´</span>
                <span id="lightboxDate" class="meta-value"></span>
              </div>
              <div class="meta-row">
                <span class="meta-label">ğŸ“ æ‹æ‘„åœ°ç‚¹</span>
                <span id="lightboxLocation" class="meta-value"></span>
              </div>
              <div class="meta-row">
                <span class="meta-label">ğŸ“· æ‹æ‘„è®¾å¤‡</span>
                <span id="lightboxCamera" class="meta-value"></span>
              </div>
              <div class="meta-row">
                <span class="meta-label">ğŸ·ï¸ æ ‡ç­¾</span>
                <div id="lightboxTags" class="meta-tags"></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="tab-panel" id="exif-panel">
          <div id="exifData" class="exif-container">
            <div class="exif-loading">
              <div class="loader-spinner small"></div>
              <span>è¯»å–EXIFä¿¡æ¯ä¸­...</span>
            </div>
          </div>
        </div>
        
        <div class="tab-panel" id="metadata-panel">
          <div class="metadata-container">
            <div class="meta-row">
              <span class="meta-label">ğŸ“ æ–‡ä»¶å¤§å°</span>
              <span id="fileSize" class="meta-value">è®¡ç®—ä¸­...</span>
            </div>
            <div class="meta-row">
              <span class="meta-label">ğŸ“ å›¾ç‰‡å°ºå¯¸</span>
              <span id="imageDimensions" class="meta-value">æµ‹é‡ä¸­...</span>
            </div>
            <div class="meta-row">
              <span class="meta-label">ğŸ¨ è‰²å½©ç©ºé—´</span>
              <span id="colorSpace" class="meta-value">sRGB</span>
            </div>
            <div class="meta-row">
              <span class="meta-label">ğŸ”— å›¾ç‰‡URL</span>
              <input type="text" id="imageUrl" class="url-input" readonly>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- åŸå›¾æŸ¥çœ‹å™¨ -->
<div class="original-viewer" id="originalViewer">
  <div class="original-backdrop" onclick="closeOriginalViewer()"></div>
  <div class="original-container">
    <div class="original-header">
      <h3 class="original-title">åŸå›¾æŸ¥çœ‹</h3>
      <div class="original-controls">
        <button class="control-btn" onclick="downloadOriginalImage()">
          <i class="icon">â¬‡ï¸</i>
          ä¸‹è½½åŸå›¾
        </button>
        <button class="close-btn" onclick="closeOriginalViewer()">
          <i class="icon">âœ–ï¸</i>
        </button>
      </div>
    </div>
    <div class="original-image-container">
      <img id="originalImage" src="" alt="" class="original-image">
      <div class="original-loader" id="originalLoader">
        <div class="loader-spinner"></div>
        <span>åŠ è½½åŸå§‹åˆ†è¾¨ç‡å›¾ç‰‡...</span>
        <div class="loading-progress">
          <div class="progress-bar" id="loadingProgress"></div>
        </div>
      </div>
    </div>
    <div class="original-info">
      <div class="resolution-info">
        <span id="originalResolution">åŠ è½½ä¸­...</span>
      </div>
      <div class="zoom-info">
        <span>ä½¿ç”¨é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼Œæ‹–æ‹½ç§»åŠ¨</span>
      </div>
    </div>
  </div>
</div>

<script src="/assets/modern-gallery.js"></script>

<!-- è°ƒè¯•è„šæœ¬ -->
<script>
// è°ƒè¯•åŠŸèƒ½ - ç¡®ä¿å‡½æ•°æ­£å¸¸å·¥ä½œ
document.addEventListener('DOMContentLoaded', function() {
  console.log('Gallery page loaded');
  
  // æµ‹è¯•å‡½æ•°æ˜¯å¦å­˜åœ¨
  setTimeout(() => {
    console.log('modernGallery instance:', window.modernGallery);
    console.log('viewOriginalImage function:', typeof viewOriginalImage);
    console.log('openAdvancedLightbox function:', typeof openAdvancedLightbox);
    
    // æ·»åŠ é”™è¯¯å¤„ç†
    window.addEventListener('error', function(e) {
      console.error('Gallery error:', e.error, e.filename, e.lineno);
    });
    
    // æµ‹è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    const actionButtons = document.querySelectorAll('.action-btn');
    console.log('Found action buttons:', actionButtons.length);
    
    actionButtons.forEach((btn, index) => {
      console.log(`Button ${index}:`, btn.onclick);
    });
  }, 1000);
});

// ç¡®ä¿ç‚¹å‡»æŸ¥çœ‹åŸå›¾åŠŸèƒ½å§‹ç»ˆå¯ç”¨
document.addEventListener('DOMContentLoaded', function() {
  // ä¸ºæ‰€æœ‰å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ
  setTimeout(() => {
    const images = document.querySelectorAll('.photo-image');
    images.forEach(img => {
      // å¦‚æœå›¾ç‰‡æ²¡æœ‰onclickäº‹ä»¶ï¼Œæ·»åŠ ä¸€ä¸ª
      if (!img.onclick) {
        img.style.cursor = 'pointer';
        img.addEventListener('click', function() {
          const title = this.alt || 'æœªå‘½åå›¾ç‰‡';
          const imageSrc = this.src;
          
          // å°è¯•è°ƒç”¨åŸå›¾æŸ¥çœ‹å‡½æ•°
          if (typeof simpleViewOriginal === 'function') {
            simpleViewOriginal(imageSrc, title);
          } else {
            // æœ€ç®€å•çš„å¤‡é€‰æ–¹æ¡ˆ
            window.open(imageSrc, '_blank');
          }
        });
      }
    });
    
    console.log('Gallery: å·²ä¸º', images.length, 'å¼ å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶');
  }, 1000);
});

// å¤‡ç”¨å…¨å±€å‡½æ•° - å¦‚æœä¸»å‡½æ•°å¤±è´¥
window.testViewOriginal = function(imageSrc, title) {
  console.log('Test view original called:', imageSrc, title);
  alert('æŸ¥çœ‹åŸå›¾åŠŸèƒ½è¢«è°ƒç”¨: ' + title);
};

window.testLightbox = function(imageSrc, title, description, date, location, camera) {
  console.log('Test lightbox called:', arguments);
  alert('ç¯ç®±åŠŸèƒ½è¢«è°ƒç”¨: ' + title);
};

// ç®€åŒ–ç‰ˆçš„å›¾ç‰‡æŸ¥çœ‹åŠŸèƒ½ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ
function simpleViewOriginal(imageSrc, title) {
  console.log('Simple view original called:', imageSrc, title);
  
  // åˆ›å»ºä¸€ä¸ªç°ä»£åŒ–çš„å…¨å±å›¾ç‰‡æŸ¥çœ‹å™¨
  const overlay = document.createElement('div');
  overlay.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    cursor: zoom-out;
    backdrop-filter: blur(5px);
    opacity: 0;
    transition: opacity 0.3s ease;
  `;
  
  // åˆ›å»ºåŠ è½½æŒ‡ç¤ºå™¨
  const loader = document.createElement('div');
  loader.style.cssText = `
    color: white;
    font-size: 1.2rem;
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  `;
  loader.innerHTML = `
    <div style="
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    "></div>
    æ­£åœ¨åŠ è½½åŸå›¾...
  `;
  
  // æ·»åŠ æ—‹è½¬åŠ¨ç”»
  const style = document.createElement('style');
  style.textContent = `
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `;
  document.head.appendChild(style);
  
  const img = document.createElement('img');
  img.style.cssText = `
    max-width: 95%;
    max-height: 85%;
    object-fit: contain;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
    border-radius: 8px;
    cursor: zoom-in;
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.4s ease;
  `;
  
  const titleEl = document.createElement('div');
  titleEl.textContent = title;
  titleEl.style.cssText = `
    color: white;
    font-size: 1.3rem;
    margin-top: 1.5rem;
    text-align: center;
    max-width: 80%;
    font-weight: 500;
    text-shadow: 0 2px 10px rgba(0,0,0,0.5);
  `;
  
  const controls = document.createElement('div');
  controls.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    gap: 10px;
    z-index: 10001;
  `;
  
  const downloadBtn = document.createElement('button');
  downloadBtn.innerHTML = 'â¬‡ï¸ ä¸‹è½½';
  downloadBtn.style.cssText = `
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    border: none;
    padding: 10px 15px;
    border-radius: 25px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  `;
  downloadBtn.onmouseover = () => downloadBtn.style.background = 'white';
  downloadBtn.onmouseout = () => downloadBtn.style.background = 'rgba(255, 255, 255, 0.9)';
  downloadBtn.onclick = (e) => {
    e.stopPropagation();
    const link = document.createElement('a');
    link.href = imageSrc;
    link.download = title.replace(/[^a-z0-9]/gi, '_').toLowerCase() + '.jpg';
    link.click();
  };
  
  const closeBtn = document.createElement('button');
  closeBtn.innerHTML = 'âœ–ï¸ å…³é—­';
  closeBtn.style.cssText = `
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    border: none;
    padding: 10px 15px;
    border-radius: 25px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  `;
  closeBtn.onmouseover = () => closeBtn.style.background = 'white';
  closeBtn.onmouseout = () => closeBtn.style.background = 'rgba(255, 255, 255, 0.9)';
  
  const closeFunction = () => {
    overlay.style.opacity = '0';
    setTimeout(() => {
      if (document.body.contains(overlay)) {
        document.body.removeChild(overlay);
      }
      document.removeEventListener('keydown', escHandler);
      document.head.removeChild(style);
    }, 300);
  };
  
  controls.appendChild(downloadBtn);
  controls.appendChild(closeBtn);
  
  overlay.appendChild(controls);
  overlay.appendChild(loader);
  overlay.appendChild(img);
  overlay.appendChild(titleEl);
  
  // å›¾ç‰‡åŠ è½½å®Œæˆäº‹ä»¶
  img.onload = () => {
    loader.style.display = 'none';
    img.style.opacity = '1';
    img.style.transform = 'scale(1)';
    
    // æ·»åŠ ç¼©æ”¾åŠŸèƒ½
    let isZoomed = false;
    img.onclick = (e) => {
      e.stopPropagation();
      if (!isZoomed) {
        img.style.maxWidth = 'none';
        img.style.maxHeight = 'none';
        img.style.width = 'auto';
        img.style.height = 'auto';
        img.style.cursor = 'zoom-out';
        isZoomed = true;
      } else {
        img.style.maxWidth = '95%';
        img.style.maxHeight = '85%';
        img.style.cursor = 'zoom-in';
        isZoomed = false;
      }
    };
  };
  
  img.onerror = () => {
    loader.innerHTML = `
      <div style="color: #ff6b6b; text-align: center;">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ˜</div>
        åŸå›¾åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•
      </div>
    `;
  };
  
  // ç‚¹å‡»å…³é—­
  overlay.addEventListener('click', function(e) {
    if (e.target === overlay) {
      closeFunction();
    }
  });
  
  closeBtn.addEventListener('click', closeFunction);
  
  // ESCé”®å…³é—­
  const escHandler = function(e) {
    if (e.key === 'Escape') {
      closeFunction();
    }
  };
  document.addEventListener('keydown', escHandler);
  
  document.body.appendChild(overlay);
  
  // è®¾ç½®å›¾ç‰‡æº
  img.src = imageSrc;
  
  // æ·¡å…¥æ•ˆæœ
  setTimeout(() => {
    overlay.style.opacity = '1';
  }, 10);
}

// ç®€åŒ–ç‰ˆç¯ç®±å‡½æ•°
function simpleLightbox(imageSrc, title, description) {
  console.log('Simple lightbox called:', imageSrc, title);
  simpleViewOriginal(imageSrc, title + (description ? ' - ' + description : ''));
}
</script>

  </div>
</article>

      </div>
    </main>

    <!-- Footer --><footer class="modern-footer" role="contentinfo">
  <div class="footer-container">
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-brand">
          <h3 class="footer-title">Xianpu Ji</h3>
          <p class="footer-subtitle">Academic & Research Portfolio</p>
        </div>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">Quick Links</h4>
        <ul class="footer-links">
          <li><a href="/about.html" class="footer-link">About</a></li>
          <li><a href="/research.html" class="footer-link">Research</a></li>
          <li><a href="/publications.html" class="footer-link">Publications</a></li>
          <li><a href="/blog.html" class="footer-link">Blog</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">Connect</h4>
        <ul class="footer-links">
          <li><a href="/contact.html" class="footer-link">Contact</a></li>
          <li><a href="/links.html" class="footer-link">Links</a></li>
          <li><a href="/maps.html" class="footer-link">Maps</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">External Links</h4>
        <div class="external-links">
          
            <a href="https://github.com/Blissful-Jasper" target="_blank" rel="noopener noreferrer" class="external-link" title="GitHub">
              <i class="fas fa-external-link-alt"></i>
              GitHub
            </a>
          
            <a href="https://orcid.org/0009-0001-5197-4804" target="_blank" rel="noopener noreferrer" class="external-link" title="ORCID">
              <i class="fas fa-external-link-alt"></i>
              ORCID
            </a>
          
            <a href="https://www.researchgate.net/profile/Xianpu-Ji" target="_blank" rel="noopener noreferrer" class="external-link" title="ResearchGate">
              <i class="fas fa-external-link-alt"></i>
              ResearchGate
            </a>
          
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p class="copyright">
          <p>Â© 2025 Xianpu Ji. Powered by <a href="https://jekyllrb.com/">Jekyll</a> and hosted on <a href="https://pages.github.com/">GitHub Pages</a>.</p>

        </p>
        <div class="footer-meta">
          <span class="last-updated">Last updated: 2025-07-24</span>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- Global Stats Display --><!-- å…¨å±€è®¿é—®ç»Ÿè®¡å±•ç¤ºç»„ä»¶ -->
<div id="global-stats-display" class="global-stats-container">
  <div class="stats-toggle-btn" onclick="toggleGlobalStats()">
    <i class="fas fa-chart-bar"></i>
    <span class="stats-label">ç»Ÿè®¡</span>
  </div>
  
  <div class="stats-panel" id="global-stats-panel">
    <div class="stats-header">
      <h3><i class="fas fa-analytics"></i> å®æ—¶è®¿é—®ç»Ÿè®¡</h3>
      <button class="close-stats" onclick="toggleGlobalStats()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="stats-content">
      <div class="quick-stats">
        <div class="quick-stat-item">
          <div class="stat-value" id="global-total-visits">--</div>
          <div class="stat-label">æ€»è®¿é—®é‡</div>
        </div>
        <div class="quick-stat-item">
          <div class="stat-value" id="global-today-visits">--</div>
          <div class="stat-label">ä»Šæ—¥è®¿é—®</div>
        </div>
        <div class="quick-stat-item">
          <div class="stat-value" id="global-online-users">--</div>
          <div class="stat-label">åœ¨çº¿ç”¨æˆ·</div>
        </div>
      </div>
      
      <div class="current-session">
        <h4><i class="fas fa-user-clock"></i> å½“å‰ä¼šè¯</h4>
        <div class="session-info">
          <div class="session-item">
            <span class="session-label">è®¿é—®æ—¶é•¿:</span>
            <span class="session-value" id="global-session-duration">00:00</span>
          </div>
          <div class="session-item">
            <span class="session-label">é¡µé¢æµè§ˆ:</span>
            <span class="session-value" id="global-page-views">1</span>
          </div>
          <div class="session-item">
            <span class="session-label">è®¾å¤‡ç±»å‹:</span>
            <span class="session-value" id="global-device-type">Desktop</span>
          </div>
        </div>
      </div>
      
      <div class="last-update">
        <i class="far fa-clock"></i>
        æœ€åæ›´æ–°: <span id="global-last-update">--</span>
      </div>
    </div>
  </div>
</div>

<style>
.global-stats-container {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  font-family: var(--font-family-sans, 'Inter', sans-serif);
}

.stats-toggle-btn {
  background: var(--gradient-primary, linear-gradient(135deg, #2563eb, #1e40af));
  color: white;
  border: none;
  border-radius: 50px;
  padding: 12px 18px;
  cursor: pointer;
  box-shadow: var(--shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1));
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  font-size: 14px;
  backdrop-filter: blur(10px);
}

.stats-toggle-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
  filter: brightness(1.1);
}

.stats-panel {
  position: absolute;
  bottom: 60px;
  left: 0;
  width: 320px;
  background: var(--bg-primary, white);
  border-radius: var(--radius-xl, 1rem);
  box-shadow: var(--shadow-2xl, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
  border: 1px solid rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px);
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all 0.3s ease;
}

.stats-panel.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.stats-header {
  background: var(--gradient-primary, linear-gradient(135deg, #2563eb, #1e40af));
  color: white;
  padding: 16px 20px;
  border-radius: var(--radius-xl, 1rem) var(--radius-xl, 1rem) 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stats-header h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.close-stats {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.close-stats:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.stats-content {
  padding: 20px;
}

.quick-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.quick-stat-item {
  text-align: center;
  padding: 12px 8px;
  background: var(--bg-secondary, #f9fafb);
  border-radius: var(--radius-lg, 0.75rem);
  transition: all 0.2s ease;
}

.quick-stat-item:hover {
  background: var(--bg-tertiary, #f3f4f6);
  transform: translateY(-2px);
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--primary-blue, #2563eb);
  margin-bottom: 4px;
}

.stat-label {
  font-size: 11px;
  color: var(--text-muted, #9ca3af);
  font-weight: 500;
}

.current-session {
  margin-bottom: 16px;
}

.current-session h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary, #1f2937);
  display: flex;
  align-items: center;
  gap: 8px;
}

.session-info {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.session-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--bg-secondary, #f9fafb);
  border-radius: var(--radius-md, 0.5rem);
  font-size: 13px;
}

.session-label {
  color: var(--text-secondary, #6b7280);
  font-weight: 500;
}

.session-value {
  color: var(--text-primary, #1f2937);
  font-weight: 600;
}

.last-update {
  text-align: center;
  font-size: 12px;
  color: var(--text-muted, #9ca3af);
  padding-top: 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

@media (max-width: 768px) {
  .global-stats-container {
    bottom: 10px;
    left: 10px;
  }
  
  .stats-panel {
    width: calc(100vw - 40px);
    max-width: 300px;
  }
  
  .quick-stats {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-toggle-btn {
    padding: 10px 14px;
    font-size: 13px;
  }
}
</style>

<script>
function toggleGlobalStats() {
  const panel = document.getElementById('global-stats-panel');
  panel.classList.toggle('active');
}

// åˆå§‹åŒ–å…¨å±€ç»Ÿè®¡
document.addEventListener('DOMContentLoaded', function() {
  updateGlobalStats();
  setInterval(updateGlobalStats, 30000); // æ¯30ç§’æ›´æ–°ä¸€æ¬¡
});

function updateGlobalStats() {
  // æ¨¡æ‹Ÿç»Ÿè®¡æ•°æ®æ›´æ–°
  const now = new Date();
  
  // æ›´æ–°åŸºæœ¬ç»Ÿè®¡
  document.getElementById('global-total-visits').textContent = Math.floor(Math.random() * 10000) + 5000;
  document.getElementById('global-today-visits').textContent = Math.floor(Math.random() * 200) + 50;
  document.getElementById('global-online-users').textContent = Math.floor(Math.random() * 20) + 5;
  
  // æ›´æ–°ä¼šè¯ä¿¡æ¯
  if (window.sessionStartTime) {
    const duration = Math.floor((now - window.sessionStartTime) / 1000);
    const minutes = Math.floor(duration / 60);
    const seconds = duration % 60;
    document.getElementById('global-session-duration').textContent = 
      `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  }
  
  // æ£€æµ‹è®¾å¤‡ç±»å‹
  const deviceType = /Mobile|Android|iPhone|iPad/.test(navigator.userAgent) ? 'Mobile' : 'Desktop';
  document.getElementById('global-device-type').textContent = deviceType;
  
  // æ›´æ–°æ—¶é—´
  document.getElementById('global-last-update').textContent = now.toLocaleTimeString('zh-CN');
}

// è®°å½•ä¼šè¯å¼€å§‹æ—¶é—´
if (!window.sessionStartTime) {
  window.sessionStartTime = new Date();
}

// é¡µé¢æµè§ˆé‡è®¡æ•°
let pageViews = parseInt(sessionStorage.getItem('pageViews') || '0') + 1;
sessionStorage.setItem('pageViews', pageViews.toString());
if (document.getElementById('global-page-views')) {
  document.getElementById('global-page-views').textContent = pageViews;
}
</script>
<!-- JavaScript -->
    <script src="/assets/modern-interactions.js"></script>
    <script src="/assets/js/performance-optimizations.js"></script>
    
    <script>
    // Modal functionality
    function openModal(src, alt) {
      var modal = document.getElementById('galleryModal');
      var modalImg = document.getElementById("modalImage");
      var captionText = document.getElementById("caption");
      modal.style.display = "block";
      modalImg.src = src;
      captionText.innerHTML = alt;
    }

    function closeModal() {
      document.getElementById('galleryModal').style.display = "none";
    }
    </script>

    <!-- Page-specific scripts -->
    
    
    <!-- å…¨ç«™é€šç”¨åŠŸèƒ½è„šæœ¬ --><!-- å…¨ç«™é€šç”¨åŠŸèƒ½è„šæœ¬ -->

<!-- Theme Switcher -->
<script src="/assets/theme-switcher.js"></script>

<!-- é˜…è¯»è¿›åº¦æ¡è„šæœ¬ï¼ˆåœ¨æ”¯æŒçš„é¡µé¢åŠ è½½ï¼‰ -->

<script src="/assets/blog-reading-progress.js"></script>


<!-- è®¿é—®ç»Ÿè®¡å’Œåœ°å›¾è„šæœ¬ -->
<script src="/assets/analytics-map.js"></script>

<script>
// å…¨å±€é¡µé¢å¢å¼º
document.addEventListener('DOMContentLoaded', function() {
  // æ ‡è®°å½“å‰é¡µé¢ä¸ºåšå®¢é¡µé¢ï¼ˆç”¨äºé˜…è¯»è¿›åº¦æ¡ï¼‰
  const pageLayout = 'page';
  const pageUrl = '/gallery.html';
  
  if (pageLayout === 'post' || pageUrl.includes('/blog')) {
    document.body.classList.add('blog-page');
  }
  
  // æ·»åŠ é¡µé¢ç‰¹å®šç±»å
  if (pageUrl) {
    const pageClass = pageUrl.replace(/\//g, '-').replace(/\.html$/, '');
    if (pageClass) {
      document.body.classList.add('page' + pageClass);
    }
  }
  
  // ç¡®ä¿è®¿é—®ç»Ÿè®¡åœ¨æ‰€æœ‰é¡µé¢æ˜¾ç¤º
  if (typeof initializeAnalytics === 'function') {
    initializeAnalytics();
  }
  
  // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
  document.body.classList.add('fade-in');
});

// é¡µé¢æ€§èƒ½ä¼˜åŒ–
window.addEventListener('load', function() {
  // æ ‡è®°é¡µé¢å®Œå…¨åŠ è½½
  document.body.classList.add('page-loaded');
  
  // é¢„åŠ è½½é‡è¦èµ„æº
  const preloadLinks = [
    '/assets/theme-system.css',
    '/assets/analytics-map.css',
    '/assets/gallery-page.css'
  ];
  
  preloadLinks.forEach(href => {
    const link = document.createElement('link');
    link.rel = 'preload';
    link.as = 'style';
    link.href = href;
    document.head.appendChild(link);
  });
});
</script>
<!-- Analytics or other tracking scripts can go here -->
    
  </body>

</html>
