---
layout: page
title: 图片路径调试
---

<style>
  .debug-section {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
  }
  
  .success { border-color: #28a745; background: #d4edda; }
  .error { border-color: #dc3545; background: #f8d7da; }
  
  .test-image {
    max-width: 200px;
    height: 150px;
    object-fit: cover;
    border: 2px solid #ccc;
    border-radius: 4px;
    margin: 10px;
  }
  
  .test-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }
  
  .test-item {
    border: 1px solid #ddd;
    padding: 15px;
    text-align: center;
    border-radius: 8px;
    background: white;
  }
</style>

<h1>🔍 图片路径完整调试</h1>

<div class="debug-section">
  <h2>📊 Jekyll 配置信息</h2>
  <ul>
    <li><strong>Base URL:</strong> <code>{{ site.baseurl }}</code></li>
    <li><strong>URL:</strong> <code>{{ site.url }}</code></li>
    <li><strong>当前页面:</strong> <code>{{ page.url }}</code></li>
  </ul>
</div>

<div class="debug-section">
  <h2>📁 Gallery 数据检查</h2>
  {% if site.data.gallery %}
    <p class="success">✅ site.data.gallery 存在</p>
    <p>分类数量: {{ site.data.gallery.size }}</p>
    
    {% for category in site.data.gallery %}
      <h4>{{ category.title }} ({{ category.id }})</h4>
      <ul>
        {% for photo in category.photos %}
          <li>{{ photo.title }} → <code>{{ photo.image }}</code></li>
        {% endfor %}
      </ul>
    {% endfor %}
  {% else %}
    <p class="error">❌ site.data.gallery 不存在</p>
  {% endif %}
</div>

<div class="debug-section">
  <h2>🔗 路径测试</h2>
  <p>测试不同的图片路径格式:</p>
  
  <div class="test-grid">
    <div class="test-item">
      <h4>绝对路径 (/pictures/)</h4>
      <img src="/pictures/DSC_1667.JPG" alt="绝对路径测试" class="test-image"
           onload="this.style.borderColor='green'; this.nextElementSibling.innerHTML='✅ 成功加载'"
           onerror="this.style.borderColor='red'; this.nextElementSibling.innerHTML='❌ 加载失败'">
      <p>状态: 等待加载...</p>
      <code>/pictures/DSC_1667.JPG</code>
    </div>
    
    <div class="test-item">
      <h4>相对路径 (pictures/)</h4>
      <img src="pictures/DSC_1667.JPG" alt="相对路径测试" class="test-image"
           onload="this.style.borderColor='green'; this.nextElementSibling.innerHTML='✅ 成功加载'"
           onerror="this.style.borderColor='red'; this.nextElementSibling.innerHTML='❌ 加载失败'">
      <p>状态: 等待加载...</p>
      <code>pictures/DSC_1667.JPG</code>
    </div>
    
    <div class="test-item">
      <h4>Jekyll relative_url</h4>
      <img src="{{ '/pictures/DSC_1667.JPG' | relative_url }}" alt="Jekyll路径测试" class="test-image"
           onload="this.style.borderColor='green'; this.nextElementSibling.innerHTML='✅ 成功加载'"
           onerror="this.style.borderColor='red'; this.nextElementSibling.innerHTML='❌ 加载失败'">
      <p>状态: 等待加载...</p>
      <code>{{ '/pictures/DSC_1667.JPG' | relative_url }}</code>
    </div>
    
    <div class="test-item">
      <h4>baseurl + 路径</h4>
      <img src="{{ site.baseurl }}/pictures/DSC_1667.JPG" alt="baseurl路径测试" class="test-image"
           onload="this.style.borderColor='green'; this.nextElementSibling.innerHTML='✅ 成功加载'"
           onerror="this.style.borderColor='red'; this.nextElementSibling.innerHTML='❌ 加载失败'">
      <p>状态: 等待加载...</p>
      <code>{{ site.baseurl }}/pictures/DSC_1667.JPG</code>
    </div>
  </div>
</div>

<div class="debug-section">
  <h2>🖼️ 所有图片测试 (使用绝对路径)</h2>
  <div class="test-grid">
    <div class="test-item">
      <img src="/pictures/DSC_1667.JPG" alt="DSC_1667" class="test-image">
      <p>DSC_1667.JPG</p>
    </div>
    <div class="test-item">
      <img src="/pictures/DSC_1398.jpg" alt="DSC_1398" class="test-image">
      <p>DSC_1398.jpg</p>
    </div>
    <div class="test-item">
      <img src="/pictures/DSC_1545.jpg" alt="DSC_1545" class="test-image">
      <p>DSC_1545.jpg</p>
    </div>
    <div class="test-item">
      <img src="/pictures/DSC_1573.jpg" alt="DSC_1573" class="test-image">
      <p>DSC_1573.jpg</p>
    </div>
  </div>
</div>

<script>
// 添加图片加载状态检查
document.addEventListener('DOMContentLoaded', function() {
  const images = document.querySelectorAll('.test-image');
  images.forEach(img => {
    img.addEventListener('load', function() {
      console.log('图片加载成功:', this.src);
    });
    img.addEventListener('error', function() {
      console.log('图片加载失败:', this.src);
    });
  });
});
</script>
