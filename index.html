<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Blog Template - Al-folio Style</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/main.css">
    <link rel="stylesheet" href="assets/theme-home.css">
    <link rel="stylesheet" href="assets/theme-about.css">
    <link rel="stylesheet" href="assets/theme-research.css">
    <link rel="stylesheet" href="assets/theme-publications.css">
    <link rel="stylesheet" href="assets/theme-blog.css">
    <link rel="stylesheet" href="assets/theme-contact.css">
    <link rel="stylesheet" href="assets/theme-links.css">
    <link rel="stylesheet" href="assets/theme-maps.css">
    <link rel="stylesheet" href="assets/theme-spa.css">
    <link rel="stylesheet" href="assets/extracted-styles.css">
</head>
<body>
    <header>
        <nav class="container">
            <a href="#" class="logo">Xianpu Ji</a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#about">About</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#publications">Publications</a></li>
                <li><a href="#blog">Blog</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#links">Links</a></li>
                <li><a href="#maps">Maps</a></li>
            </ul>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
    </header>
    <main class="container">
      <div class="main-content" style="display: grid; grid-template-columns: 1fr 320px; gap: 40px; padding: 40px 0;">
        <div class="content" id="spa-content" style="background: #fff; max-width: 900px; margin: 0 auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(44,62,80,0.06); padding: 32px 24px;">
          <!-- SPAä¸»å†…å®¹åŒºï¼Œåˆå§‹åŠ è½½home.htmlæˆ–about.htmlï¼Œå¯è‡ªåŠ¨åˆ‡æ¢ -->
          <!-- ä¸»é¡µå†…å®¹å¡ç‰‡åŒ–å¸ƒå±€ï¼Œé£æ ¼ä¸about.htmlä¸€è‡´ -->
<div style="max-width:900px;margin:0 auto;padding:0 0 2rem 0;">
  <!-- ä¸ªäººä¿¡æ¯å¡ç‰‡ -->
  <div class="profile-section">
    <img src="assets/profile.JPG" alt="Profile" class="profile-img">
    <div class="profile-info">
      <h1 class="profile-name">Xianpu Ji</h1>
      <div class="profile-title">PhD Student, Ocean College, Hohai University</div>
      <div class="profile-bio">çƒ­å¸¦å¤§æ°”åŠ¨åŠ›å­¦åšå£«ç”Ÿï¼Œå…³æ³¨å¯¹æµè€¦åˆèµ¤é“æ³¢ã€çƒ­å¸¦é™æ°´å˜ç‡åŠå…¶åœ¨æ°”å€™æ¨¡å¼ä¸­çš„æ¨¡æ‹Ÿã€‚ä¹Ÿè‡´åŠ›äºæ·±åº¦å­¦ä¹ ä¸æ•°å€¼æ¨¡å¼åœ¨çƒ­å¸¦å¤©æ°”ç³»ç»Ÿç ”ç©¶ä¸­çš„åº”ç”¨ã€‚</div>
      <div class="social-links">
        <a href="mailto:xianpuji@hhu.edu.cn" title="Email" target="_blank"><i class="fas fa-envelope"></i></a>
        <a href="https://github.com/Blissful-Jasper" title="GitHub" target="_blank"><i class="fab fa-github"></i></a>
        <a href="https://www.researchgate.net/profile/Xianpu-Ji" title="ResearchGate" target="_blank"><i class="fab fa-researchgate"></i></a>
        <a href="https://orcid.org/0009-0001-5197-4804" title="ORCID" target="_blank"><i class="fab fa-orcid"></i></a>
      </div>
      <div class="profile-contact">
        <span><i class="fas fa-map-marker-alt"></i> Ocean College, Hohai University</span>
        <span><i class="fas fa-phone"></i> +86 17551575179</span>
        <span><i class="fas fa-envelope"></i> xianpuji@hhu.edu.cn</span>
      </div>
    </div>
  </div>
  <!-- ç ”ç©¶å…´è¶£å¡ç‰‡ -->
  <div class="research-section">
    <h2 class="research-title">ç ”ç©¶å…´è¶£ Research Interests</h2>
    <div >
      
      æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MRG waves, MJO ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚
      ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚
    </div>
    <div class="research-grid">
      <div class="research-card">
        <h3 class="research-card-title">Kelvinæ³¢ä¸çƒ­å¸¦é™æ°´</h3>
        <div class="research-card-content">
          <p>Kelvinæ³¢æ˜¯çƒ­å¸¦å¤§æ°”ä¸­æœ€é‡è¦çš„æ³¢åŠ¨ä¹‹ä¸€ï¼Œå¯¹çƒ­å¸¦é™æ°´çš„æ—¶ç©ºåˆ†å¸ƒæœ‰é‡è¦å½±å“ã€‚</p>
          <a href="#blog/kelvin-waves.md" class="btn-primary">é˜…è¯»æ–‡ç« </a>
        </div>
      </div>
      <div class="research-card">
        <h3 class="research-card-title">CMIP6æ¨¡å¼è¯„ä¼°ä¸æ°”å€™å˜åŒ–</h3>
        <div class="research-card-content">
          <p>CMIP6æ¨¡å¼ä¸ºç†è§£å’Œé¢„æµ‹æœªæ¥çƒ­å¸¦æ°”å€™å˜åŒ–æä¾›äº†é‡è¦å·¥å…·ã€‚</p>
          <a href="#blog/cmip6-evaluation.md" class="btn-primary">é˜…è¯»æ–‡ç« </a>
        </div>
      </div>
      <div class="research-card">
        <h3 class="research-card-title">æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸­çš„åº”ç”¨</h3>
        <div class="research-card-content">
          <p>æ·±åº¦å­¦ä¹ ä¸ºæ°”è±¡ç§‘å­¦å¸¦æ¥äº†æ–°çš„æœºé‡ï¼Œæå‡äº†é™æ°´ç­‰è¦ç´ çš„æ™ºèƒ½é¢„æµ‹èƒ½åŠ›ã€‚</p>
          <a href="#blog/dl-meteorology.md" class="btn-primary">é˜…è¯»æ–‡ç« </a>
        </div>
      </div>
    </div>
  </div>
  <!-- å·²å‘è¡¨è®ºæ–‡å¡ç‰‡ -->
  <div class="publications-section">
    <h2 class="publications-title">å·²å‘è¡¨è®ºæ–‡ Selected Publications</h2>
    <div class="publication-list">
      <div class="publication-item">
        <div class="publication-title"><a href="https://doi.org/10.1016/j.atmosres.2025.108214" class="pub-link" target="_blank">Evaluation of convectively coupled Kelvin waves in CMIP6 coupled climate models</a></div>
        <div class="publication-authors"><strong>Ji, X.</strong>, Feng, T., Huang, P., Cheng, X., Qin, J., Yang, B.</div>
        <div class="publication-venue">Atmospheric Research, 2025</div>
      </div>
      <div class="publication-item">
        <div class="publication-title"><a href="https://doi.org/10.3390/rs16162871" class="pub-link" target="_blank">Oceanic Precipitation Nowcasting Using a UNet-Based Residual and Attention Network and Real-Time Himawari-8 Images</a></div>
        <div class="publication-authors"><strong>Ji, X.</strong>, Song X, Guo A, Liu K, Cao H, Feng T.</div>
        <div class="publication-venue">Remote Sensing, 2024</div>
      </div>
      <div class="publication-item">
        <div class="publication-title"><a href="https://doi.org/10.6043/j.issn.0438-0479.202310026" class="pub-link" target="_blank">Regionalization of Precipitation and Associated Atmospheric Background Environmental Characteristics Over the Tropical Oceans</a></div>
        <div class="publication-authors"><strong>Ji, X.</strong>, Sha Y, Feng T, Li J.</div>
        <div class="publication-venue">Journal of Xiamen University (Natural Science), 2024</div>
      </div>
    </div>
  </div>
  <!-- æŠ€èƒ½å¡ç‰‡ -->
  <div class="skills-section">
    <div class="section-title"><i class="fas fa-tools"></i> æŠ€èƒ½ Skills</div>
    <div class="skills-grid">
      <div class="skill-card" onclick="window.open('https://www.python.org/', '_blank')"><i class="fab fa-python"></i> Python</div>
      <div class="skill-card" onclick="window.open('https://pytorch.org/', '_blank')"><i class="fab fa-python"></i> PyTorch</div>
      <div class="skill-card" onclick="window.open('https://www.tensorflow.org/', '_blank')"><i class="fab fa-python"></i> TensorFlow</div>
      <div class="skill-card" onclick="window.open('https://www.r-project.org/', '_blank')"><i class="fab fa-r-project"></i> R</div>
      <div class="skill-card" onclick="window.open('https://www.latex-project.org/', '_blank')"><i class="fas fa-file-alt"></i> LaTeX</div>
      <div class="skill-card" onclick="window.open('https://www.unidata.ucar.edu/software/netcdf/', '_blank')"><i class="fas fa-database"></i> NetCDF</div>
      <div class="skill-card" onclick="window.open('https://www.wrf-model.org/', '_blank')"><i class="fas fa-cloud"></i> WRF Model</div>
      <div class="skill-card" onclick="window.open('https://www.git-scm.com/', '_blank')"><i class="fab fa-git-alt"></i> Git</div>
    </div>
  </div>
</div>
        </div>
        <aside class="sidebar" style="background: #f8f9fa; padding: 30px; border-radius: 8px; height: fit-content; max-width: 360px; min-width: 260px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
          <div>
            <h3 style="margin-bottom: 20px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px;">ğŸ“° News</h3>
            <div id="sidebar-news-list"></div>
          </div>
          <div style="margin-top: 30px;">
            <h3 style="margin-bottom: 20px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px;">ğŸ“ Latest Posts</h3>
            <div id="sidebar-latest-posts"></div>
          </div>
        </aside>
      </div>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 Xianpu Ji. Powered by Jekyll and GitHub Pages.</p>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
// SPAå¯¼èˆªæ˜ å°„
const navMap = {
  about: 'about.html',
  research: 'research.html',
  publications: 'publications.html',
  blog: 'blog.html',
  contact: 'contact.html',
  links: 'links.html',
  maps: 'maps.html'
};
// åŠ¨æ€åŠ è½½å†…å®¹
function loadContent(file) {
  const contentDiv = document.getElementById('spa-content');
  if (file.endsWith('.html')) {
    fetch(file)
      .then(res => res.text())
      .then(html => {
        contentDiv.innerHTML = html;
        if (file === 'blog.html') renderBlogList();
        if (file === 'links.html') renderLinksMainList();
        if (file === 'maps.html') renderMapsMainList();
        fixFooterPosition();
      });
    return;
  }
  if (file.endsWith('.md')) {
    fetch(file)
      .then(res => res.text())
      .then(md => {
        contentDiv.innerHTML = `<div class='markdown-body' style='margin:2rem auto;max-width:700px;background:var(--bg-secondary);border-radius:var(--radius);box-shadow:var(--shadow-md);padding:2.5rem 2.5rem 2rem 2.5rem;'>${marked.parse(md.replace(/^---[\s\S]*?---\s*/,''))}</div>`;
        fixFooterPosition();
      });
  }
}
// ç›‘å¬ hash è·³è½¬
window.addEventListener('hashchange', function() {
  const hash = decodeURIComponent(location.hash.replace(/^#/, ''));
  if (navMap[hash]) loadContent(navMap[hash]);
  else if (hash.endsWith('.md')) loadContent('blog/' + hash.replace(/^blog\//, ''));
});
document.addEventListener('DOMContentLoaded', function() {
  // é»˜è®¤åŠ è½½ä¸»é¡µ
  if (!location.hash || !navMap[location.hash.replace('#','')]) {
    loadContent('about.html');
  } else {
    const hash = location.hash.replace('#','');
    if (navMap[hash]) loadContent(navMap[hash]);
  }
  // ç»‘å®šå¯¼èˆªç‚¹å‡»
  document.querySelectorAll('.nav-links a').forEach(a => {
    a.addEventListener('click', function(e) {
      const href = this.getAttribute('href').replace('#', '');
      if (navMap[href]) {
        e.preventDefault();
        loadContent(navMap[href]);
        location.hash = '#' + href;
      }
    });
  });
});
// è‡ªåŠ¨æ¸²æŸ“ blog ç›®å½•ä¸‹æ‰€æœ‰ md æ–‡ä»¶ä¸ºå¡ç‰‡
function renderBlogList() {
  const blogListDiv = document.getElementById('blog-main-list');
  if (!blogListDiv) return;
  fetch('blog/index.json') // éœ€ç”±æ„å»ºè„šæœ¬ç”Ÿæˆ md æ–‡ä»¶ç´¢å¼•
    .then(res => res.json())
    .then(posts => {
      blogListDiv.innerHTML = posts.map(post => `
        <div class="blog-card" style="background:var(--bg-secondary);border-radius:12px;padding:2rem 2.5rem 1.5rem 2.5rem;min-width:320px;max-width:900px;margin-bottom:2rem;position:relative;border:1px solid #e0e4ea;">
          <h3 style="font-size:1.3em;margin-bottom:0.5em;">${post.title}</h3>
          <div style="color:#888;font-size:0.98em;margin-bottom:0.7em;">${post.date||''}</div>
          <div style="margin-bottom:1em;">${post.summary||''}</div>
          <a href="#${post.file}" class="btn-primary" style="margin-top:10px;background:#f2f6fa;color:#3498db;font-weight:600;border-radius:6px;padding:0.5em 1.2em;transition:background 0.2s;">é˜…è¯»å…¨æ–‡</a>
        </div>
      `).join('');
      // ç»‘å®šç‚¹å‡»è·³è½¬
      blogListDiv.querySelectorAll('.btn-primary').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          const href = this.getAttribute('href');
          if (href && href.startsWith('#')) {
            location.hash = href;
          }
        });
      });
    });
}
// News/Latest Posts è‡ªåŠ¨æ¨é€ï¼ˆæ”¹ä¸ºä»…ä¾èµ– blog/index.jsonï¼‰
function renderSidebarNews() {
  fetch('blog/index.json')
    .then(res => res.json())
    .then(posts => {
      // æŒ‰æ—¶é—´é™åºï¼Œå–æœ€æ–°5æ¡
      const sorted = posts.sort((a, b) => b.date.localeCompare(a.date));
      const latestNews = sorted.slice(0, 5);
      const newsList = document.getElementById('sidebar-news-list');
      newsList.innerHTML = latestNews.map(item => `
        <div class="news-item">
          <div class="news-date">${item.date}</div>
          <div class="news-content"><a href="#${item.file}" style="color:#3498db;">${item.title}</a></div>
        </div>
      `).join('');
    });
}
function renderSidebarLatestPosts() {
  fetch('blog/index.json')
    .then(res => res.json())
    .then(posts => {
      const sorted = posts.sort((a, b) => b.date.localeCompare(a.date));
      const latestList = sorted.slice(0, 4).map(post => `
        <div class="post-item">
          <div class="post-date">${post.date||''}</div>
          <a href="#${post.file}" class="post-title">${post.title}</a>
          <div class="post-summary">${post.summary||''}</div>
        </div>
      `).join('');
      document.getElementById('sidebar-latest-posts').innerHTML = latestList;
    });
}
document.addEventListener('DOMContentLoaded', function() {
  renderSidebarNews();
  renderSidebarLatestPosts();
});
// ä¸»é¢˜åˆ‡æ¢
const themeToggle = document.getElementById('themeToggle');
const themeIcon = document.getElementById('themeIcon');
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
function setTheme(dark) {
    if (dark) {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeIcon.className = 'fas fa-sun';
    } else {
        document.documentElement.removeAttribute('data-theme');
        themeIcon.className = 'fas fa-moon';
    }
}
setTheme(localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && prefersDark));
themeToggle.addEventListener('click', () => {
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    setTheme(!isDark);
    localStorage.setItem('theme', !isDark ? 'dark' : 'light');
});
// ç§»åŠ¨ç«¯èœå•
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const navLinks = document.getElementById('navLinks');
mobileMenuBtn.addEventListener('click', () => {
    navLinks.classList.toggle('active');
});
navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
            navLinks.classList.remove('active');
        }
    });
});

// å…¶ä»–é¡µé¢å†…å®¹åŠ è½½åä¹Ÿè°ƒç”¨ fixFooterPosition
function fixFooterPosition() {
  setTimeout(() => {
    const main = document.querySelector('main');
    const footer = document.querySelector('footer');
    if (main && footer) {
      footer.style.position = 'static';
      footer.style.marginTop = '40px';
      // è‹¥å†…å®¹é«˜åº¦ä¸è¶³ï¼Œfooterå¸åº•
      if (document.body.scrollHeight < window.innerHeight) {
        footer.style.position = 'fixed';
        footer.style.left = 0;
        footer.style.right = 0;
        footer.style.bottom = 0;
        footer.style.marginTop = 0;
      }
    }
  }, 200);
}

// Links ä¸»å†…å®¹å¡«å……
function renderLinksMainList() {
  const container = document.getElementById('links-main-list');
  if (!container) return;
  // åŠ¨æ€åŠ è½½ links.html é‡Œçš„ mainLinksData
  fetch('links.html')
    .then(res => res.text())
    .then(html => {
      const temp = document.createElement('div');
      temp.innerHTML = html;
      const dataTag = temp.querySelector('#mainLinksData');
      let mainLinks = [];
      if (dataTag) {
        try {
          mainLinks = JSON.parse(dataTag.textContent);
        } catch {}
      }
      container.innerHTML = `${mainLinks.map((group, gi) => `
        <div class="link-card" style='background:var(--bg-secondary);border-radius:12px;padding:2rem 2.5rem 1.5rem 2.5rem;min-width:320px;max-width:900px;flex:1 1 700px;margin-bottom:2rem;position:relative;display:flex;flex-direction:column;border:1px solid #e0e4ea;'>
          <h3 style='font-size:1.25rem;color:var(--primary-color);margin-bottom:1.2rem;font-weight:600;letter-spacing:0.5px;'>${group.group}</h3>
          <ul style='list-style:none;padding:0;margin:0;'>
            ${group.links.map((link, li) => `<li style='margin-bottom:1.1rem;'><a href='${link.url}' target='_blank' class='ext-link' data-gi='${gi}' data-li='${li}' style='color:var(--secondary-color);font-size:1.08rem;font-weight:500;word-break:break-all;display:inline-block;'><i class='fas fa-link' style='margin-right:9px;'></i>${link.name}</a><div class='link-desc' style='margin-top:0.5rem;'></div></li>`).join('')}
          </ul>
        </div>
      `).join('')}`;
      setTimeout(() => {
        container.querySelectorAll('.ext-link').forEach(a => {
          const url = a.getAttribute('href');
          const descDiv = a.parentElement.querySelector('.link-desc');
          descDiv.innerHTML = '<span style="color:#888;font-size:0.98em;">åŠ è½½ä¸­...</span>';
          fetchLinkMeta(url, descDiv);
          a.addEventListener('click', function(e) {
            window.open(url, '_blank');
          });
        });
      }, 100);
    });
}
// Maps ä¸»å†…å®¹å¡«å……
function renderMapsMainList() {
  const container = document.getElementById('maps-main-list');
  if (!container) return;
  // åŠ¨æ€åŠ è½½ maps.html é‡Œçš„ mapsLinksData
  fetch('maps.html')
    .then(res => res.text())
    .then(html => {
      const temp = document.createElement('div');
      temp.innerHTML = html;
      const dataTag = temp.querySelector('#mapsLinksData');
      let mapsLinks = [];
      if (dataTag) {
        try {
          mapsLinks = JSON.parse(dataTag.textContent);
        } catch {}
      }
      container.innerHTML = `${mapsLinks.map((group, gi) => `
        <div class="link-card" style='background:var(--bg-secondary);border-radius:12px;padding:2rem 2.5rem 1.5rem 2.5rem;min-width:320px;max-width:900px;flex:1 1 700px;margin-bottom:2rem;position:relative;display:flex;flex-direction:column;border:1px solid #e0e4ea;'>
          <h3 style='font-size:1.25rem;color:var(--primary-color);margin-bottom:1.2rem;font-weight:600;letter-spacing:0.5px;'>${group.group}</h3>
          <ul style='list-style:none;padding:0;margin:0;'>
            ${group.links.map((link, li) => `<li style='margin-bottom:1.1rem;'><a href='${link.url}' target='_blank' class='ext-link' data-gi='${gi}' data-li='${li}' style='color:var(--secondary-color);font-size:1.08rem;font-weight:500;word-break:break-all;display:inline-block;'><i class='fas fa-link' style='margin-right:9px;'></i>${link.name}</a><div class='link-desc' style='margin-top:0.5rem;'></div></li>`).join('')}
          </ul>
        </div>
      `).join('')}`;
      setTimeout(() => {
        container.querySelectorAll('.ext-link').forEach(a => {
          const url = a.getAttribute('href');
          const descDiv = a.parentElement.querySelector('.link-desc');
          descDiv.innerHTML = '<span style="color:#888;font-size:0.98em;">åŠ è½½ä¸­...</span>';
          fetchLinkMeta(url, descDiv);
          a.addEventListener('click', function(e) {
            window.open(url, '_blank');
          });
        });
      }, 100);
    });
}
// å³ä¸Šè§’æ·»åŠ  Maps é¡µé¢
const mapsLi = document.createElement('li');
const mapsA = document.createElement('a');
mapsA.href = '#maps';
mapsA.textContent = 'Maps';
mapsLi.appendChild(mapsA);
navLinksUl.appendChild(mapsLi);
// hash è·³è½¬æ‹¦æˆª
window.addEventListener('hashchange', function() {
  if (location.hash === '#maps') {
    renderMapsMainList();
  }
});
// æŠ“å–ç½‘é¡µ meta description æˆ– favicon/logo
function fetchLinkMeta(url, descDiv) {
  // å…ˆå°è¯• fetch meta description
  fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`)
    .then(res => res.json())
    .then(data => {
      const html = data.contents;
      let desc = '';
      let img = '';
      // æå– meta description
      const descMatch = html.match(/<meta[^>]*name=["']description["'][^>]*content=["']([^"']+)["'][^>]*>/i) || html.match(/<meta[^>]*content=["']([^"']+)["'][^>]*name=["']description["'][^>]*>/i);
      if (descMatch) desc = descMatch[1];
      // æå– og:image
      const imgMatch = html.match(/<meta[^>]*property=["']og:image["'][^>]*content=["']([^"']+)["'][^>]*>/i);
      if (imgMatch) img = imgMatch[1];
      // æå– favicon
      if (!img) {
        const favMatch = html.match(/<link[^>]*rel=["'](?:shortcut )?icon["'][^>]*href=["']([^"']+)["'][^>]*>/i);
        if (favMatch) {
          let favUrl = favMatch[1];
          if (!favUrl.startsWith('http')) {
            try {
              const u = new URL(url);
              favUrl = u.origin + (favUrl.startsWith('/') ? favUrl : '/' + favUrl);
            } catch {}
          }
          img = favUrl;
        }
      }
      let htmlStr = '';
      if (img) htmlStr += `<img src='${img}' alt='logo' style='max-width:60px;max-height:60px;display:block;margin-bottom:0.5em;border-radius:8px;'>`;
      if (desc) htmlStr += `<div style='color:#666;font-size:0.98em;'>${desc}</div>`;
      if (!desc && !img) htmlStr = `<span style='color:#aaa;font-size:0.98em;'>æš‚æ— ç®€ä»‹/å›¾ç‰‡</span>`;
      descDiv.innerHTML = htmlStr;
    })
    .catch(() => {
      descDiv.innerHTML = `<span style='color:#aaa;font-size:0.98em;'>æš‚æ— ç®€ä»‹/å›¾ç‰‡</span>`;
    });
}
document.addEventListener('DOMContentLoaded', function() {
  // Enhance links with descriptions or images
  document.querySelectorAll('.markdown-body a').forEach(link => {
    const url = link.href;
    const descDiv = document.createElement('div');
    descDiv.style.marginTop = '0.5rem';
    descDiv.style.color = '#666';
    descDiv.style.fontSize = '0.9em';
    link.parentElement.appendChild(descDiv);

    fetchLinkMeta(url, descDiv);
  });
});
  </script>
  <style>
/* markdown-body æ ·å¼åŒæ­¥ test2.html */
.markdown-body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #fff;
  color: #333;
  padding: 40px 32px;
  border-radius: 12px;
  border: 1px solid #e0e4ea;
  margin-bottom: 48px;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
}
.markdown-body h1, .markdown-body h2, .markdown-body h3 {
  color: #2c3e50;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  font-weight: bold;
}
.markdown-body h1 { font-size: 2.2em; border-bottom: 2px solid #3498db; padding-bottom: 0.3em; }
.markdown-body h2 { font-size: 1.6em; border-bottom: 1px solid #3498db; padding-bottom: 0.2em; }
.markdown-body h3 { font-size: 1.2em; }
.markdown-body ul, .markdown-body ol { margin: 1em 0 1em 2em; }
.markdown-body a { color: #3498db; text-decoration: none; transition: color 0.2s; }
.markdown-body a:hover { color: #2980b9; text-decoration: underline; }
.markdown-body blockquote {
  border-left: 4px solid #3498db;
  background: #f8f9fa;
  color: #555;
  margin: 1em 0;
  padding: 0.8em 1.2em;
  border-radius: 4px;
}
.markdown-body code, .markdown-body pre {
  background: #f4f4f4;
  color: #e74c3c;
  border-radius: 3px;
  padding: 2px 6px;
  font-size: 0.98em;
}
.markdown-body pre {
  padding: 12px;
  overflow-x: auto;
}
.markdown-body table {
  border-collapse: collapse;
  margin: 1em 0;
  width: 100%;
}
.markdown-body th, .markdown-body td {
  border: 1px solid #ddd;
  padding: 8px 12px;
}
.markdown-body th {
  background: #f8f9fa;
  color: #2c3e50;
}
  </style>
</body>
</html>