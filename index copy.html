<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Blog Template - Al-folio Style</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
    --primary-color: #2563eb;
    --secondary-color: #1e40af;
    --accent-color: #3b82f6;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --text-muted: #9ca3af;
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --border-color: #e5e7eb;
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --radius: 0.5rem;
    --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}
[data-theme="dark"] {
    --text-primary: #e5e7ef;
    --text-secondary: #bfc6d1;
    --text-muted: #7b8494;
    --bg-primary: #181f2a;
    --bg-secondary: #232b3a;
    --bg-tertiary: #232b3a;
    --border-color: #2c3442;
}
body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--text-primary);
    background-color: var(--bg-primary);
    transition: var(--transition);
}

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Header */
        header {
            background: #fff;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #3498db;
        }

        /* Main Content */
        .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 2rem;
}
.main-content {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 3rem;
    padding: 3rem 0;
}
.content {
    flex: 1 1 0;
    max-width: 760px;
    margin: 0 auto;
    background: var(--bg-primary);
}
.sidebar {
    min-width: 320px;
    max-width: 360px;
    margin-left: 0;
}
.posts-section .post-list {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}
@media (max-width: 900px) {
    .posts-section .post-list { grid-template-columns: 1fr; }
}
.post-item {
    background: var(--bg-secondary);
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-color);
    padding: 1.5rem 1.5rem 1.2rem 1.5rem;
    transition: var(--transition);
    display: flex;
    flex-direction: column;
    min-height: 160px;
}
.post-item:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-3px);
}
.post-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
    text-decoration: none;
    transition: color 0.2s;
}
.post-title:hover { color: var(--secondary-color); }
.post-date {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 0.5rem;
}
.post-summary {
    color: var(--text-secondary);
    font-size: 1rem;
    margin-top: 0.5rem;
    flex: 1 1 auto;
}
@media (max-width: 1024px) {
    .main-content { flex-direction: column; gap: 2rem; }
    .sidebar { max-width: 100%; min-width: unset; margin: 0 auto; }
}
@media (max-width: 768px) {
    .container { padding: 0 0.5rem; }
    .main-content { padding: 1.5rem 0; }
    .content { max-width: 100%; }
}
        /* Header */
        header {
            background: #fff;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #3498db;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 40px;
            padding: 40px 0;
        }

        .content {
            background: #fff;
        }

        .profile-section {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            border: 2.5px solid var(--primary-color);
        }

        .profile-img {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 1.5rem;
            border: 4px solid var(--primary-color);
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
        }

        .profile-img:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);
        }

        .profile-info h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .profile-info .title, .profile-title {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        .profile-bio, .bio {
            font-size: 1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: white;
            border-radius: var(--radius);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.2rem;
        }

        .social-links a:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        /* Sidebar */
        .sidebar {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            height: fit-content;
        }

        .sidebar h3 {
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .news-item, .post-item {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .news-date, .post-date {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .news-content, .post-title {
            font-size: 14px;
            color: #2c3e50;
        }

        .post-title {
            font-weight: bold;
            text-decoration: none;
            color: #2c3e50;
        }

        .post-title:hover {
            color: #3498db;
        }

        /* Research Section */
        .research-section {
            margin-bottom: 40px;
        }

        .research-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .research-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .research-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            transition: transform 0.3s;
        }

        .research-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .research-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .research-card p {
            color: #555;
            line-height: 1.6;
        }

        /* Publications Section */
        .publications-section {
            margin-bottom: 40px;
        }

        .publication-item {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }

        .publication-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .publication-authors {
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .publication-venue {
            color: #27ae60;
            font-style: italic;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 60px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                flex-direction: column;
                gap: 10px;
            }
            
            .research-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-img {
                width: 150px;
                height: 150px;
            }
        }

        /* File Structure Display */
        .file-structure {
            background: #f4f4f4;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .file-structure h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .file-tree {
            line-height: 1.8;
        }

        .file-tree .folder {
            color: #3498db;
            font-weight: bold;
        }

        .file-tree .file {
            color: #27ae60;
        }

        /* New Styles for Home Section */
        .home {
            margin-bottom: 40px;
        }

        .profile-container {
            display: flex;
            align-items: flex-start;
            gap: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .profile-image {
            flex-shrink: 0;
        }

        .profile-info {
            min-width: 250px;
        }

        .profile-name {
            font-size: 28px;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .profile-title {
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .profile-affiliation {
            font-size: 16px;
            color: #555;
            margin-bottom: 20px;
        }

        .profile-bio {
            font-size: 16px;
            line-height: 1.8;
            color: #555;
            margin-bottom: 30px;
        }

        .publication-list {
            margin-top: 20px;
        }

        .publication-links {
            margin-top: 10px;
        }

        .pub-link {
            display: inline-block;
            margin-right: 10px;
            font-size: 14px;
            color: #3498db;
            text-decoration: none;
            transition: color 0.3s;
        }

        .pub-link:hover {
            color: #2980b9;
        }

        .btn-primary {
            display: inline-block;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        /* markdown-body ç»Ÿä¸€é£æ ¼ */
        .markdown-body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #fff;
            color: #333;
            padding: 32px 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(44,62,80,0.06);
            margin-bottom: 40px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        .markdown-body h1, .markdown-body h2, .markdown-body h3 {
            color: #2c3e50;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            font-weight: bold;
        }
        .markdown-body h1 { font-size: 2.2em; border-bottom: 2px solid #3498db; padding-bottom: 0.3em; }
        .markdown-body h2 { font-size: 1.6em; border-bottom: 1px solid #3498db; padding-bottom: 0.2em; }
        .markdown-body h3 { font-size: 1.2em; }
        .markdown-body ul, .markdown-body ol { margin: 1em 0 1em 2em; }
        .markdown-body a { color: #3498db; text-decoration: none; transition: color 0.2s; }
        .markdown-body a:hover { color: #2980b9; text-decoration: underline; }
        .markdown-body blockquote {
            border-left: 4px solid #3498db;
            background: #f8f9fa;
            color: #555;
            margin: 1em 0;
            padding: 0.8em 1.2em;
            border-radius: 4px;
        }
        .markdown-body code, .markdown-body pre {
            background: #f4f4f4;
            color: #e74c3c;
            border-radius: 3px;
            padding: 2px 6px;
            font-size: 0.98em;
        }
        .markdown-body pre {
            padding: 12px;
            overflow-x: auto;
        }
        .markdown-body table {
            border-collapse: collapse;
            margin: 1em 0;
            width: 100%;
        }
        .markdown-body th, .markdown-body td {
            border: 1px solid #ddd;
            padding: 8px 12px;
        }
        .markdown-body th {
            background: #f8f9fa;
            color: #2c3e50;
        }
    </style>
    <!-- å¼•å…¥ marked.js ç”¨äºmarkdownæ¸²æŸ“ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <header>
        <nav class="container">
            <a href="#" class="logo">Xianpu Ji</a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#about">About</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#publications">Publications</a></li>
                <li><a href="#blog">Blog</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
    </header>

    <main class="container">
      <div class="main-content">
        <div class="content">
          <div class="home">
            <!-- Profile Section -->
            <div class="profile-section">
              <div class="profile-container" style="display: flex; align-items: flex-start; gap: 40px; flex-wrap: wrap; justify-content: center;">
                <div class="profile-image">
                  <a href="about.md"><img src="assets/img/profile.JPG" alt="Xianpu Ji" class="profile-img" style="cursor:pointer;"></a>
                </div>
                <div class="profile-info" style="min-width: 250px;">
                  <h1 class="profile-name"><a href="about.md" style="color:inherit;text-decoration:none;cursor:pointer;">Xianpu Ji</a></h1>
                  <p class="profile-title">PhD Student | Ocean & Earth Sciences</p>
                  <p class="profile-affiliation">Ocean College, Hohai University</p>
                  <div class="profile-bio">
                    <p>æˆ‘æ˜¯ä¸€ååšå£«ç”Ÿï¼Œç ”ç©¶æ–¹å‘ä¸ºçƒ­å¸¦å¤§æ°”åŠ¨åŠ›å­¦ï¼Œå…³æ³¨å¯¹æµè€¦åˆèµ¤é“æ³¢ã€çƒ­å¸¦é™æ°´å˜ç‡åŠå…¶åœ¨æ°”å€™æ¨¡å¼ä¸­çš„æ¨¡æ‹Ÿã€‚ä¹Ÿè‡´åŠ›äºæ·±åº¦å­¦ä¹ ä¸æ•°å€¼æ¨¡å¼ï¼ˆå¦‚WRFï¼‰åœ¨çƒ­å¸¦å¤©æ°”ç³»ç»Ÿç ”ç©¶ä¸­çš„åº”ç”¨ã€‚</p>
                    <p>Ocean College â€¢ 1 Xikang Road â€¢ Nanjing, China 210098<br>ğŸ“ (+86) 17551575179 â€¢ âœ‰ï¸ xianpuji@hhu.edu.cn â€¢ <a href="https://www.researchgate.net/profile/Xianpu-Ji" target="_blank">ResearchGate</a></p>
                  </div>
                  <!-- Social Links -->
                  <div class="social-links">
                    <a href="mailto:xianpuji@hhu.edu.cn" title="Email" target="_blank"><i class="fas fa-envelope"></i></a>
                    <a href="https://www.researchgate.net/profile/Xianpu-Ji" title="ResearchGate" target="_blank"><i class="fab fa-researchgate"></i></a>
                    <a href="https://github.com/Blissful-Jasper" title="GitHub" target="_blank"><i class="fab fa-github"></i></a>
                    <a href="#" title="Twitter"><i class="fab fa-x-twitter"></i></a>
                    <a href="#" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="https://orcid.org/0009-0001-5197-4804" title="ORCID" target="_blank"><i class="fab fa-orcid"></i></a>
                    <a href="cv/CV.pdf" title="Download CV" target="_blank"><i class="fas fa-file-pdf"></i></a>
                  </div>
                </div>
              </div>
            </div>
            <!-- Research Interests Section -->
            <div class="research-section">
  <h2 class="section-title"><a href="#research" style="color:inherit;text-decoration:none;cursor:pointer;">Research Interests</a></h2>
  <div class="research-intro" style="margin-bottom:18px;font-size:16px;color:#555;">
    <p>æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MJO ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚</p>
  </div>
  <div class="research-grid">
    <div class="research-card">
      <h3>Kelvinæ³¢ä¸çƒ­å¸¦é™æ°´</h3>
      <p>Kelvinæ³¢æ˜¯çƒ­å¸¦å¤§æ°”ä¸­æœ€é‡è¦çš„æ³¢åŠ¨ä¹‹ä¸€ï¼Œå¯¹çƒ­å¸¦é™æ°´çš„æ—¶ç©ºåˆ†å¸ƒæœ‰é‡è¦å½±å“ã€‚</p>
      <a href="#blog/kelvin-waves.md" class="btn-primary" style="margin-top:10px;">é˜…è¯»æ–‡ç« </a>
    </div>
    <div class="research-card">
      <h3>CMIP6æ¨¡å¼è¯„ä¼°ä¸æ°”å€™å˜åŒ–</h3>
      <p>CMIP6æ¨¡å¼ä¸ºç†è§£å’Œé¢„æµ‹æœªæ¥çƒ­å¸¦æ°”å€™å˜åŒ–æä¾›äº†é‡è¦å·¥å…·ã€‚</p>
      <a href="#blog/cmip6-evaluation.md" class="btn-primary" style="margin-top:10px;">é˜…è¯»æ–‡ç« </a>
    </div>
    <div class="research-card">
      <h3>æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸­çš„åº”ç”¨</h3>
      <p>æ·±åº¦å­¦ä¹ ä¸ºæ°”è±¡ç§‘å­¦å¸¦æ¥äº†æ–°çš„æœºé‡ï¼Œæå‡äº†é™æ°´ç­‰è¦ç´ çš„æ™ºèƒ½é¢„æµ‹èƒ½åŠ›ã€‚</p>
      <a href="#blog/dl-meteorology.md" class="btn-primary" style="margin-top:10px;">é˜…è¯»æ–‡ç« </a>
    </div>
  </div>
</div>
            <!-- Selected Publications Section -->
            <div class="publications-section">
              <h2 class="section-title"><a href="publications.md" style="color:inherit;text-decoration:none;cursor:pointer;">Selected Publications</a></h2>
              <div class="publication-list">
                <div class="publication-item">
                  <div class="publication-title"><a href="https://doi.org/10.1016/j.atmosres.2025.108214" class="pub-link" target="_blank">Evaluation of convectively coupled Kelvin waves in CMIP6 coupled climate models</a></div>
                  <div class="publication-authors"><strong>Ji, X.</strong>, Feng, T., Huang, P., Cheng, X., Qin, J., Yang, B.</div>
                  <div class="publication-venue">Atmospheric Research, 2025</div>
                </div>
                <div class="publication-item">
                  <div class="publication-title"><a href="https://doi.org/10.3390/rs16162871" class="pub-link" target="_blank">Oceanic Precipitation Nowcasting Using a UNet-Based Residual and Attention Network and Real-Time Himawari-8 Images</a></div>
                  <div class="publication-authors"><strong>Ji, X.</strong>, Song X, Guo A, Liu K, Cao H, Feng T.</div>
                  <div class="publication-venue">Remote Sensing, 2024</div>
                </div>
                <div class="publication-item">
                  <div class="publication-title"><a href="https://doi.org/10.6043/j.issn.0438-0479.202310026" class="pub-link" target="_blank">Regionalization of Precipitation and Associated Atmospheric Background Environmental Characteristics Over the Tropical Oceans</a></div>
                  <div class="publication-authors"><strong>Ji, X.</strong>, Sha Y, Feng T, Li J.</div>
                  <div class="publication-venue">Journal of Xiamen University (Natural Science), 2024</div>
                </div>
              </div>
            </div>
            <!-- Latest Posts Section -->
            <div class="posts-section">
  <h2 class="section-title"><a href="#blog" style="color:inherit;text-decoration:none;cursor:pointer;">Latest Posts</a></h2>
  <div class="post-list" id="blog-latest-posts">
    <!-- åšå®¢æ–‡ç« å°†ç”±JSè‡ªåŠ¨å¡«å…… -->
  </div>
  <div class="view-all" style="margin-top: 20px;">
    <a href="#blog" class="btn-primary" id="viewAllPostsBtn">View All Posts</a>
  </div>
</div>
            <!-- ä¸ªäººæŠ€èƒ½åŒºå— -->
            <div class="skills-section" style="margin:40px 0;">
              <h2 class="section-title">Skills</h2>
              <div style="display:flex;flex-wrap:wrap;gap:20px;">
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Python</div>
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Deep Learning</div>
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Numerical Modeling</div>
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Data Science</div>
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Meteorology</div>
                <div style="background:#f8f9fa;padding:18px 28px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.07);font-size:16px;">Academic Writing</div>
              </div>
            </div>
          </div>
        </div>
        <aside class="sidebar">
  <div>
    <h3>ğŸ“° News</h3>
    <div id="sidebar-news-list"></div>
  </div>
  <div style="margin-top: 30px;">
    <h3>ğŸ“ Latest Posts</h3>
    <div id="sidebar-latest-posts"></div>
  </div>
</aside>
      </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Xianpu Ji. Powered by Jekyll and GitHub Pages.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Add some interactive features
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to research cards
            const researchCards = document.querySelectorAll('.research-card');
            researchCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
            // Add click animation to download buttons
            const downloadButtons = document.querySelectorAll('.download-btn');
            downloadButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });

        // ä¸»é¢˜åˆ‡æ¢
const themeToggle = document.getElementById('themeToggle');
const themeIcon = document.getElementById('themeIcon');
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
function setTheme(dark) {
    if (dark) {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeIcon.className = 'fas fa-sun';
    } else {
        document.documentElement.removeAttribute('data-theme');
        themeIcon.className = 'fas fa-moon';
    }
}
setTheme(localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && prefersDark));
themeToggle.addEventListener('click', () => {
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    setTheme(!isDark);
    localStorage.setItem('theme', !isDark ? 'dark' : 'light');
});
// ç§»åŠ¨ç«¯èœå•
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const navLinks = document.getElementById('navLinks');
mobileMenuBtn.addEventListener('click', () => {
    navLinks.classList.toggle('active');
});
navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
            navLinks.classList.remove('active');
        }
    });
});

        // SPAå¯¼èˆªæ ç‚¹å‡»åŠ è½½å†…å®¹
const navMap = {
  about: 'about.md',
  research: 'research.md',
  publications: 'publications.md',
  blog: 'blog/',
  contact: 'contact.md',
  links: 'links',
  maps: 'maps'
};
function cleanJekyllHeader(md) {
  // ç§»é™¤Jekyllå¤´éƒ¨ä¿¡æ¯
  return md.replace(/^---[\s\S]*?---\s*/,'')
}
function loadContent(file, isBlogList) {
  const contentDiv = document.querySelector('.content');
  if (isBlogList) {
    showAllPosts();
    return;
  }
  if (file.endsWith('.md')) {
    if (file === 'contact.md') {
      fetch(file)
        .then(res => res.text())
        .then(md => {
          contentDiv.innerHTML = `<div class='markdown-body' style='margin:2rem auto;max-width:600px;background:var(--bg-secondary);border-radius:var(--radius);box-shadow:var(--shadow-md);padding:2.5rem 2.5rem 2rem 2.5rem;'>${marked.parse(cleanJekyllHeader(md))}</div>`;
          fixFooterPosition();
        });
    } else {
      window.loadBlogPost(file);
    }
  } else if (file.endsWith('.html')) {
    fetch(file)
      .then(res => res.text())
      .then(html => {
        contentDiv.innerHTML = html;
        fixFooterPosition();
      });
  } else if (file.endsWith('/')) {
    showAllPosts();
  }
}
// ç›‘å¬ hash è·³è½¬ï¼Œæ”¯æŒ #blog/xxx.md åŠ #about.md ç­‰
window.addEventListener('hashchange', function() {
  const hash = decodeURIComponent(location.hash.replace(/^#/, ''));
  if (hash.endsWith('.md')) {
    window.loadBlogPost(hash);
  } else if (hash === 'blog') {
    showAllPosts();
  } else if (hash === 'links') {
    renderLinksPage();
  } else if (hash === 'maps') {
    renderMapsPage();
  } else if (hash && navMap[hash]) {
    loadContent(navMap[hash], hash === 'blog');
  }
});
window.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.nav-links a').forEach(a => {
    a.addEventListener('click', function(e) {
      const href = this.getAttribute('href').replace('#', '');
      if (navMap[href]) {
        e.preventDefault();
        if (href === 'links') renderLinksPage();
        else if (href === 'maps') renderMapsPage();
        else loadContent(navMap[href], href === 'blog');
        location.hash = '#' + href;
      }
    });
  });
});
// åšå®¢æ–‡ç« åˆ—è¡¨å’Œå•ç¯‡åŠ è½½
const blogPosts = [
  {
    title: 'æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢',
    date: '2025-06-29',
    file: 'blog/2025-06-29-welcome.md',
    summary: 'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡ï¼Œæœªæ¥å°†åˆ†äº«æˆ‘åœ¨çƒ­å¸¦æ³¢åŠ¨ã€å¤§æ°”ç§‘å­¦ç ”ç©¶ä¸­çš„ä¸€äº›ç»éªŒä¸è§è§£ã€‚'
  },
  {
    title: 'Kelvinæ³¢ä¸çƒ­å¸¦é™æ°´',
    date: '2024-06-30',
    file: 'blog/kelvin-waves.md',
    summary: 'Kelvinæ³¢æ˜¯çƒ­å¸¦å¤§æ°”ä¸­æœ€é‡è¦çš„æ³¢åŠ¨ä¹‹ä¸€ï¼Œå¯¹çƒ­å¸¦é™æ°´çš„æ—¶ç©ºåˆ†å¸ƒæœ‰é‡è¦å½±å“ã€‚'
  },
  {
    title: 'CMIP6æ¨¡å¼è¯„ä¼°ä¸æ°”å€™å˜åŒ–',
    date: '2024-06-30',
    file: 'blog/cmip6-evaluation.md',
    summary: 'CMIP6æ¨¡å¼ä¸ºç†è§£å’Œé¢„æµ‹æœªæ¥çƒ­å¸¦æ°”å€™å˜åŒ–æä¾›äº†é‡è¦å·¥å…·ã€‚'
  },
  {
    title: 'æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸­çš„åº”ç”¨',
    date: '2024-06-30',
    file: 'blog/dl-meteorology.md',
    summary: 'æ·±åº¦å­¦ä¹ ä¸ºæ°”è±¡ç§‘å­¦å¸¦æ¥äº†æ–°çš„æœºé‡ï¼Œæå‡äº†é™æ°´ç­‰è¦ç´ çš„æ™ºèƒ½é¢„æµ‹èƒ½åŠ›ã€‚'
  }
];

// Blogåˆ—è¡¨é¡µæ¸²æŸ“ï¼ˆä¸»å†…å®¹åŒºå—çŠ¶å¡ç‰‡é£æ ¼ï¼‰
function showAllPosts() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:0 0 2rem 0;max-width:900px;margin:0 auto 2rem auto;">
      <h2 style="margin-bottom:2rem;">Blog Posts</h2>
      <div class="post-list" id="blog-main-list"></div>
    </div>
  `;
  renderBlogList(blogPosts, 'blog-main-list', true);
}

// Blogå¡ç‰‡æ¸²æŸ“ï¼ˆä¸»é¡µ/ä¾§è¾¹æ /ä¸»åˆ—è¡¨ï¼‰
function renderBlogList(list, containerId, isMainList = false) {
  const container = document.getElementById(containerId);
  if (!container) return;
  container.innerHTML = '';
  list.forEach(post => {
    container.innerHTML += `
      <div class="post-item">
        <div class="post-date">${post.date}</div>
        <a href="#" class="post-title" onclick="loadBlogPost('${post.file}');return false;">${post.title}</a>
        <div class="post-summary">${post.summary || ''}</div>
        ${isMainList ? `<a href="#" class="btn-primary blog-readmore" style="margin-top:1rem;width:max-content;background:#e0e7ef;color:#2563eb;" onclick="loadBlogPost('${post.file}');return false;">é˜…è¯»å…¨æ–‡</a>` : ''}
      </div>
    `;
  });
}

// Blogè¯¦æƒ…é¡µæ¸²æŸ“ï¼Œé¡µè„šå§‹ç»ˆåœ¨åº•éƒ¨
window.loadBlogPost = function(url) {
  fetch(url)
    .then(res => res.text())
    .then(md => {
      document.querySelector('.content').innerHTML = `<div class='markdown-body' style='margin:2rem auto;max-width:760px;background:var(--bg-secondary);border-radius:var(--radius);box-shadow:var(--shadow-md);padding:2.5rem;'>${marked.parse(cleanJekyllHeader(md))}</div>`;
      fixFooterPosition();
    });
};
// å…¶ä»–é¡µé¢å†…å®¹åŠ è½½åä¹Ÿè°ƒç”¨ fixFooterPosition
function fixFooterPosition() {
  setTimeout(() => {
    const main = document.querySelector('main');
    const footer = document.querySelector('footer');
    if (main && footer) {
      footer.style.position = 'static';
      footer.style.marginTop = '40px';
      // è‹¥å†…å®¹é«˜åº¦ä¸è¶³ï¼Œfooterå¸åº•
      if (document.body.scrollHeight < window.innerHeight) {
        footer.style.position = 'fixed';
        footer.style.left = 0;
        footer.style.right = 0;
        footer.style.bottom = 0;
        footer.style.marginTop = 0;
      }
    }
  }, 200);
}

// News/Latest Posts è‡ªåŠ¨æ ¹æ® blogPosts æ—¶é—´æ’åºæ¨é€ï¼ŒNews è‡ªåŠ¨è¯»å– news.yml
function renderSidebarNews() {
  // è¯»å– _data/news.yml
  fetch('_data/news.yml')
    .then(res => res.text())
    .then(yml => {
      // ç®€å•è§£æ YAML
      const items = [];
      const lines = yml.split(/\r?\n/);
      let cur = null;
      lines.forEach(line => {
        if (/^- date:/.test(line)) {
          if (cur) items.push(cur);
          cur = {date: line.replace(/^- date: *["']?/, '').replace(/["']?$/, '').trim()};
        } else if (/^  content:/.test(line) && cur) {
          cur.content = line.replace(/^  content: *["']?/, '').replace(/["']?$/, '').trim();
        }
      });
      if (cur) items.push(cur);
      // æŒ‰ç…§æ—¥æœŸå€’åºæ’åˆ—
      items.sort((a, b) => new Date(b.date) - new Date(a.date));
      // å–å‰5æ¡ä½œä¸ºæœ€æ–°æ¶ˆæ¯
      const latestNews = items.slice(0, 5);
      const newsList = document.getElementById('sidebar-news-list');
      newsList.innerHTML = latestNews.map(item => `
        <div class="news-item">
          <div class="news-date">${item.date}</div>
          <div class="news-content">${item.content}</div>
        </div>
      `).join('');
    });
}

// Latest Posts è‡ªåŠ¨æ¨é€è‡³ä¾§è¾¹æ 
function renderSidebarLatestPosts() {
  // ä¿è¯ä¸å½±å“ä¸»é¡µå’Œä¸»å†…å®¹åŒºçš„ links/maps å†…å®¹
  const sorted = [...blogPosts].sort((a, b) => b.date.localeCompare(a.date));
  const latestList = sorted.slice(0, 4).map(post => `
    <div class="post-item">
      <div class="post-date">${post.date}</div>
      <a href="#" class="post-title" onclick="loadBlogPost('${post.file}');return false;">${post.title}</a>
      <div class="post-summary">${post.summary || ''}</div>
    </div>
  `).join('');
  document.getElementById('sidebar-latest-posts').innerHTML = latestList;
}
document.addEventListener('DOMContentLoaded', function() {
  showLatestPosts();
  renderSidebarNews();
  renderSidebarLatestPosts();
});

// Skills åŒºå—è·³è½¬é“¾æ¥
const skillLinks = {
  'Python': 'https://www.python.org/',
  'Deep Learning': 'https://www.deeplearning.ai/',
  'Numerical Modeling': 'https://en.wikipedia.org/wiki/Numerical_modelling_(geology)',
  'Data Science': 'https://www.datacamp.com/',
  'Meteorology': 'https://www.ametsoc.org/',
  'Academic Writing': 'https://www.nature.com/scitable/ebooks/english-communication-for-scientists-14053993/academic-writing-14238273/'
};
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.skills-section div[style*="background"]').forEach(div => {
    const text = div.textContent.trim();
    if (skillLinks[text]) {
      div.style.cursor = 'pointer';
      div.title = 'ç‚¹å‡»è·³è½¬å­¦ä¹ ';
      div.onclick = () => window.open(skillLinks[text], '_blank');
    }
  });
});

// å³ä¸Šè§’æ·»åŠ  Links é¡µé¢
const mainLinks = [
  {
    group: 'ENSO & æ°”å€™ç°è±¡',
    links: [
      { name: 'Philosophies and concerns about ENSO', url: 'https://iri.columbia.edu/' },
      { name: 'Why do we care about El NiÃ±o and La NiÃ±a?', url: 'https://iri.columbia.edu/our-expertise/climate/enso/why-do-we-care-about-el-nino-and-la-nina/' },
      { name: 'Watching for El NiÃ±o and La NiÃ±a', url: 'https://www.climate.gov/news-features/understanding-climate/watching-el-ni%C3%B1o-and-la-ni%C3%B1a-noaa-adapts-global-warming' },
      { name: 'Why are there so many ENSO indexes?', url: 'https://www.climate.gov/news-features/blogs/enso/why-are-there-so-many-enso-indexes-instead-just-one' },
      { name: 'How Good Have ENSO Forecasts Been Lately?', url: 'https://www.climate.gov/news-features/blogs/enso/how-good-have-enso-forecasts-been-lately' }
    ]
  },
  {
    group: 'æ•°å€¼æ¨¡å¼ä¸æµä½“æ¨¡æ‹Ÿ',
    links: [
      { name: 'Shallow water model (Matlab, barotropic instability)', url: 'https://www.met.reading.ac.uk/%7Eswrhgnrj/shallow_water_model/' },
      { name: 'GFDL Dry spectral idealized model', url: 'https://www.gfdl.noaa.gov/idealized-spectral-models-quickstart/' },
      { name: 'GFDL Dry model github', url: 'https://github.com/gchenpu/idealized' },
      { name: 'GFDL Moist spectral idealized model', url: 'https://www.gfdl.noaa.gov/idealized-moist-spectral-atmospheric-model-quickstart/' },
      { name: 'DART, GeoCAT, and VAPOR sites', url: 'https://www2.cisl.ucar.edu/resources/legacy/spherepack' },
      { name: 'Misc fluid simulators', url: 'https://matthias-research.github.io/pages/tenMinutePhysics/index.html' },
    ]
  },
  {
    group: 'æ•°æ®ä¸è¯¾ç¨‹',
    links: [
      { name: 'notes on regression and time series analysis', url: 'https://people.duke.edu/~rnau/411home.htm' },
      { name: 'Precipitation datasets', url: 'https://gpm.nasa.gov/data/directory' }
    ]
  },
  {
    group: 'ç»å…¸è®ºæ–‡ä¸èµ„æ–™',
    links: [
      { name: 'Classic and Historical Papers Papers on Geophysical Fluid Dynamics', url: 'https://empslocal.ex.ac.uk/people/staff/gv219/classics.d/general.html' },
      
    ]
  },
  {
    group: 'å­£èŠ‚é¢„æµ‹ä¸å­£é£',
    links: [
      { name: 'IRI Seasonal Climate Forecast', url: 'https://iri.columbia.edu/our-expertise/climate/forecasts/seasonal-climate-forecasts/' },
      { name: 'Seasonal Climate Forecast CFSv2', url: 'https://www.cpc.ncep.noaa.gov/products/people/wwang/cfsv2fcst/' },
      { name: 'World monsoons', url: 'https://worldmonsoons.org/' }
    ]
  },
  {
    group: 'å«æ˜Ÿä¸æ³¢åŠ¨ç›‘æµ‹',
    links: [
      { name: 'CIMSS Satellite Blog', url: 'https://cimss.ssec.wisc.edu/satellite-blog/' },
      { name: 'GOES Geostationary archive', url: 'https://www.star.nesdis.noaa.gov/GOES/GOES16_CONUS.php' },
      { name: 'Grided Satellite data', url: 'https://www.ncei.noaa.gov/products/satellite/gridded-data?name=gridsat-intro' },
      { name: 'Sandro Lubis blog for equatorial waves', url: 'https://sandrolubis.wordpress.com/' },
      { name: 'Carl Scherck tropical waves monitoring', url: 'https://ncics.org/portfolio/monitor/mjo/' },
      { name: 'Kyle MacRitchie page', url: 'https://www.kylemacritchie.com/' },
      { name: 'Micheal Ventrice page', url: 'https://mikeventrice.weebly.com/' }
    ]
  },
  {
    group: 'åšå®¢ä¸ä¸»é¡µ',
    links: [
      { name: 'Cliff Mass blog', url: 'https://cliffmass.blogspot.com/' }
    ]
  },
  {
    group: 'Pythonä¸å¤§æ°”ç§‘å­¦',
    links: [
      { name: 'GHCN call and plot', url: 'https://github.com/akrherz/pyIEM' },
      { name: 'Python for Geosciences Daily (GHCN-D)', url: 'https://github.com/jjrennie/GHCNpy' },
      { name: 'Collection of Python libraries', url: 'https://pyaos.github.io/packages/?fbclid=IwAR3mk45ythjGm-JLYbphd6AZbJGduYfLu75wOGnzDTbUNQcBYj1BfQX3tCs' }
    ]
  },
  {
    group: 'éæ´²æ°”å€™ä¸å¹²æ—±',
    links: [

      { name: 'ACMAD', url: 'https://www.acmad.org/' },
      { name: 'FEWS NET', url: 'https://fews.net/' },
      { name: 'GCRF African SWIFT ', url: 'https://africanswift.org/' },
      { name: 'CPC Portal for African', url: 'https://www.cpc.ncep.noaa.gov/products/international/africa/africa.shtml' },
      { name: 'Seasonal forecasting over Nile', url: 'https://hrc-sudan.sd/index.php/portfolio/seasonal-forecasting-of-the-blue-nile-flows-at-ethiopia-sudan-border/' }
    ]
  },
  {
    group: 'æ³¢åŠ¨ä¸ç‰©ç†åŠ¨ç”»',
    links: [
      { name: 'Collection of animation, videos, interactive plots on sound waves', url: 'https://www.acs.psu.edu/drussell/Demos.html' },
      { name: 'Atlas of internal solitary waves', url: 'https://www.internalwaveatlas.com/' },
      { name: 'NSF videos about Fluid dynamics', url: 'https://www.nsf.gov/news/special_reports/physics/index.jsp' },
      { name: 'Feynmann lectures on Physics', url: 'http://www.feynmanlectures.caltech.edu' },
      { name: 'One dimensional positive, negative, and zero group velocity', url: 'https://www.youtube.com/watch?v=tlM9vq-bepA' },
      { name: 'Two dimensional gravity wave', url: 'https://www.youtube.com/watch?v=xf8Y6YYxvew' }
    ]
  },
  {
    group: 'æ•°å­¦ä¸å¯è§†åŒ–',
    links: [
      { name: 'DFT vs. FFT jupyter notebook', url: 'https://nbviewer.org/url/jakevdp.github.io/downloads/notebooks/UnderstandingTheFFT.ipynb' },
      { name: 'Mike Cohen FFT è§†é¢‘', url: 'https://www.youtube.com/watch?v=gr3IG81Gl9I&list=PLn0OLiymPak3lrIErlYVnIc3pGTwgt_ml' },
      { name: 'Infinity is a beautiful concept and it is ruining physics', url: 'https://www.discovermagazine.com/the-sciences/infinity-is-a-beautiful-concept-and-its-ruining-physics' },
      { name: 'Ten simples rules for better figures', url: 'https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003833' },
      { name: 'Rainbow color map perception artifacts', url: 'https://www.kennethmoreland.com/color-advice/' },
      { name: 'Modifying matplotlib colormaps', url: 'https://stackoverflow.com/questions/31051488/how-to-modify-a-matplotlib-colormap' },
      { name: 'Adjusting the zero in a skewed colormap', url: 'https://stackoverflow.com/questions/31051488/how-to-modify-a-matplotlib-colormap' },
      { name: 'Adjusting extremes', url: 'https://stackoverflow.com/questions/25432654/how-to-create-matplotlib-colormap-that-treats-one-value-specially?noredirect=1#comment39706467_25432654' },
      { name: 'Matplotlib colormap reference', url: 'https://matplotlib.org/stable/tutorials/colors/colormaps.html' },
      { name: 'Matplotlib colormap examples', url: 'https://matplotlib.org/stable/gallery/color/colormap_reference.html' },
      { name: 'Matplotlib colormap customization', url: 'https://matplotlib.org/3.1.1/tutorials/colors/colorbar_only.html' },
      { name: 'Increasing the white band in the blue-white-red colormap', url: 'https://gist.github.com/ahmedshaaban1/1259e1efc7d8aeb843c2440511a22658' },
      { name: 'Creating a publication quality-figures', url: 'https://www.nature.com/articles/nmeth.1618' }
    ]
  },
  {
    group: 'å­¦æœ¯å†™ä½œä¸èµ„æº',
    links: [
      { name: 'The element of style by Strunk and White (pdf)', url: 'https://faculty.washington.edu/heagerty/Courses/b572/public/StrunkWhite.pdf' },
      { name: 'Effective technical writing from PennState', url: 'https://www.e-education.psu.edu/styleforstudents/' },
      { name: 'Writing in the Sciences (Stanford, Coursera)', url: 'https://www.coursera.org/learn/sciwrite' },
      { name: 'Academic Phrasebank', url: 'http://www.phrasebank.manchester.ac.uk/' },
      { name: 'Guid to grammer and writing', url: 'https://guidetogrammar.org/' },
      { name: 'words with similar rhymes', url: 'https://www.rhymezone.com/' },
      { name: 'Synonyms', url: 'https://www.thesaurus.com/' },
      { name: 'On writing and some numerical books', url: 'https://hplgit.github.io/?' },
      { name: 'Reproducibility problem', url: 'https://www.nature.com/articles/533452a' }
    ]
  },
  {
    group: 'å¸¸ç”¨å­¦æœ¯/å·¥å…·/èµ„æº',
    links: [
      { name: 'Google Scholar', url: 'https://scholar.google.com/' },
      { name: 'ResearchGate', url: 'https://www.researchgate.net/profile/Xianpu-Ji' },
      { name: 'GitHub', url: 'https://github.com/Blissful-Jasper' },
      { name: 'ORCID', url: 'https://orcid.org/0009-0001-5197-4804' },
      { name: 'Python å®˜ç½‘', url: 'https://www.python.org/' },
      { name: 'Deep Learning.ai', url: 'https://www.deeplearning.ai/' }
    ]
  }
];
// åœ¨å¯¼èˆªæ æ’å…¥ Links æŒ‰é’®
const navLinksUl = document.getElementById('navLinks');
const linksLi = document.createElement('li');
const linksA = document.createElement('a');
linksA.href = '#links';
linksA.textContent = 'Links';
linksLi.appendChild(linksA);
navLinksUl.appendChild(linksLi);
// hash è·³è½¬æ‹¦æˆª
window.addEventListener('hashchange', function() {
  if (location.hash === '#links') {
    renderLinksPage();
  }
});
function renderLinksPage() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:2rem;max-width:900px;margin:2rem auto 2rem auto;">
      <h2 style="margin-bottom:1.5rem;">å­¦æœ¯ä¸å·¥å…·é“¾æ¥</h2>
      <div style="display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;">
        ${mainLinks.map(group => `
          <div style='background:var(--bg-secondary);border-radius:8px;box-shadow:0 2px 8px rgba(44,62,80,0.06);padding:1.5rem 1.5rem 1rem 1.5rem;min-width:260px;max-width:340px;flex:1 1 300px;margin-bottom:1.5rem;'>
            <h3 style='font-size:1.1rem;color:var(--primary-color);margin-bottom:1rem;'>${group.group}</h3>
            <ul style='list-style:none;padding:0;'>
              ${group.links.map(link => `<li style='margin-bottom:0.7rem;'><a href='${link.url}' target='_blank' style='color:var(--secondary-color);font-size:1rem;font-weight:500;word-break:break-all;'><i class='fas fa-link' style='margin-right:7px;'></i>${link.name}</a></li>`).join('')}
            </ul>
          </div>
        `).join('')}
      </div>
    </div>
  `;
}
  

function renderMapsPage() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:2rem;max-width:1100px;margin:2rem auto 2rem auto;">
      <h2 style="margin-bottom:1.5rem;">å®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹</h2>
      <div style="display:flex;flex-wrap:wrap;gap:2.5rem;justify-content:center;">
        ${mapsLinks.map((group, gi) => `
          <div class='link-card' style='background:var(--bg-secondary);border-radius:8px;box-shadow:0 2px 8px rgba(44,62,80,0.06);padding:1.5rem 1.5rem 1rem 1.5rem;min-width:320px;max-width:480px;flex:1 1 380px;margin-bottom:1.5rem;position:relative;'>
            <h3 style='font-size:1.1rem;color:var(--primary-color);margin-bottom:1rem;'>${group.group}</h3>
            <ul style='list-style:none;padding:0;'>
              ${group.links.map((link, li) => `<li style='margin-bottom:0.7rem;'><a href='${link.url}' target='_blank' class='ext-link' data-gi='${gi}' data-li='${li}' style='color:var(--secondary-color);font-size:1rem;font-weight:500;word-break:break-all;'><i class='fas fa-link' style='margin-right:7px;'></i>${link.name}</a><div class='link-desc' style='margin-top:0.5rem;'></div></li>`).join('')}
            </ul>
          </div>
        `).join('')}
      </div>
    </div>
  `;
  // ç»‘å®šç‚¹å‡»äº‹ä»¶
  setTimeout(() => {
    document.querySelectorAll('.ext-link').forEach(a => {
      a.addEventListener('click', function(e) {
        e.preventDefault();
        const url = this.getAttribute('href');
        const descDiv = this.parentElement.querySelector('.link-desc');
        descDiv.innerHTML = '<span style="color:#888;font-size:0.98em;">åŠ è½½ä¸­...</span>';
        fetchLinkMeta(url, descDiv);
        window.open(url, '_blank');
      });
    });
  }, 100);
}


/* æ›´æµ…çš„ Blog é˜…è¯»å…¨æ–‡æŒ‰é’®æ ·å¼ */
const style = document.createElement('style');
style.innerHTML = `
  .btn-primary {
    background: #e0edff !important;
    color: #2563eb !important;
    border: none;
    box-shadow: 0 2px 5px rgba(44,62,80,0.06);
    font-weight: 600;
    transition: background 0.2s, color 0.2s;
  }
  .btn-primary:hover {
    background: #b6d6ff !important;
    color: #1e40af !important;
  }
`;
document.head.appendChild(style);
// æŠ“å–ç½‘é¡µ meta description æˆ– favicon/logo
// å³ä¸Šè§’æ·»åŠ  Maps é¡µé¢
const mapsLinks = [
  {
    group: 'é™æ°´ä¸é›·ç”µ',
    links: [
      { name: 'Precipitation from TRMM (3Hr, 24Hr, 72Hr, weekly) and GPM (30 Min)', url: 'https://gpm.nasa.gov/data-access/downloads/trmm' },
      { name: 'Global Lightning Map', url: 'https://www.blitzortung.org/en/live_lightning_maps.php' },
      { name: 'USAID precipitation monitoring', url: 'https://earlywarning.usgs.gov/fews/map' }
    ]
  },
  {
    group: 'å«æ˜Ÿä¸é£åœº',
    links: [
      { name: 'Windy', url: 'https://www.windy.com/' },
      { name: 'RAMMB Colostate', url: 'https://rammb-slider.cira.colostate.edu/' },
      { name: 'RealEarth Wisconsin-Madison', url: 'https://realearth.ssec.wisc.edu/' },
      { name: 'Meteologix', url: 'https://meteologix.com/' },
      { name: 'EUMETSAT (METEOSAT 0 and 41.5 Degrees)', url: 'https://www.eumetsat.int/our-satellites' },
      { name: 'MIMIC-TPW ver.2 (Total Precipitable Water)', url: 'https://tropic.ssec.wisc.edu/real-time/mimic-tpw/global2/main.html' },
      { name: 'Indian Ocean Tropical Cyclones (CIMSS)', url: 'https://tropic.ssec.wisc.edu/real-time/indian/winds/wgmsat.html' },
      { name: 'Real time Indian Ocean satellite NRL', url: 'https://www.nrlmry.navy.mil/TC.html' },
      { name: 'Remote Sensing Systems', url: 'https://www.remss.com/' },
      { name: 'NASA Worldview Earth data', url: 'https://worldview.earthdata.nasa.gov/' }
    ]
  },
  {
    group: 'MJO ä¸ç¯æµç›‘æµ‹',
    links: [
      { name: 'CPC MJO', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/MJO/mjo.shtml' },
      { name: 'CPC - Dynamical Model MJO Forecast', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/MJO/mjo.shtml#model' },
      { name: 'Carl Schreck - MJO RMM index', url: 'https://ncics.org/portfolio/monitor/mjo/' },
      { name: 'Michael Ventrice - MJO RMM index', url: 'https://mikeventrice.weebly.com/mjo.html' },
      { name: 'Kyle Marcritchie - MJO RMM index', url: 'https://www.kylemacritchie.com/mjo/' }
    ]
  },
  {
    group: 'æ°”å€™ç¾å®³ä¸æ—©æœŸé¢„è­¦',
    links: [
      { name: 'Global Tropics Benefits/Hazards', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/ghazards/index.php' },
      { name: 'Famine Early Warning System Network (FEWS NET)', url: 'https://fews.net/' },
      { name: 'Climate Hazards Group - US Santa Barbara', url: 'https://www.chc.ucsb.edu/data' }
    ]
  },
  {
    group: 'éæ´²ä¸å°åº¦æ´‹æ°”å€™',
    links: [
      { name: 'Indian Ocean Weather and Climate', url: 'https://www.tropmet.res.in/~kolli/links/monsoon.html' },
      { name: 'NCEP MODEL FORECASTS FOR INDIAN OCEAN', url: 'https://www.cpc.ncep.noaa.gov/products/african_desk/indian_ocean_forecasts.shtml' },
      { name: 'Africa Weather and Climate', url: 'https://www.cpc.ncep.noaa.gov/products/international/africa/africa.shtml' }
    ]
  },
  {
    group: 'ENSO/å­£é£/ITCZ',
    links: [
      { name: 'CPC - El Nino Southeren Oscillation', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/MJO/enso.shtml' },
      { name: 'ENSO - CPC Diagnostic Discussion', url: 'https://www.cpc.ncep.noaa.gov/products/analysis_monitoring/enso_advisory/' },
      { name: 'CPC - ENSO weekly PPT', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/MJO/enso.shtml#weekly' },
      { name: 'Pacific Marine Enviromental Laboratory (PMEL) NOAA - TAO', url: 'https://www.pmel.noaa.gov/tao/' },
      { name: 'IRI 925 hPa Monthly wind vector anomaly', url: 'https://iridl.ldeo.columbia.edu/maproom/.Global/.Wind_Anomaly/Monthly925.html' },
      { name: 'Monsoon Online', url: 'https://www.tropmet.res.in/~kolli/links/monsoon.html' },
      { name: 'CPC - Global Monsoon', url: 'https://www.cpc.ncep.noaa.gov/products/Global_Monsoons/' },
      { name: 'CPC - Blocking', url: 'https://www.cpc.ncep.noaa.gov/products/precip/CWlink/blocking/index.shtml' },
      { name: 'CPC - Africa InterTropical Front (IFT)', url: 'https://www.cpc.ncep.noaa.gov/products/international/ift/ift.shtml' }
    ]
  },
  {
    group: 'QBO',
    links: [
      { name: 'Naujokat @ Free Berlin Univ', url: 'https://www.geo.fu-berlin.de/en/met/ag/strat/produkte/qbo/index.html' },
      { name: 'Lubis @ university of Leipzig', url: 'https://www.uni-leipzig.de/en/profile/mitarbeiter/dr-sandro-lubis' },
      { name: 'Reading university', url: 'https://www.reading.ac.uk/meteorology/research/atmospheric-dynamics/qbo' },
      { name: 'CPC QBO', url: 'https://www.cpc.ncep.noaa.gov/data/indices/qbo.u50.index' }
    ]
  },
  {
    group: 'å…¶ä»–æ°”å€™ç›‘æµ‹',
    links: [
      { name: 'CPC - Outlook and Monthly reports', url: 'https://www.cpc.ncep.noaa.gov/products/OUTLOOKS/' },
      { name: 'NCEP SST', url: 'https://www.cpc.ncep.noaa.gov/products/analysis_monitoring/lanina/enso_evolution-status-fcsts-web.pdf' },
      { name: 'nullschool', url: 'https://earth.nullschool.net/' }
    ]
  }
];
// åœ¨å¯¼èˆªæ æ’å…¥ Maps æŒ‰é’®
const mapsLi = document.createElement('li');
const mapsA = document.createElement('a');
mapsA.href = '#maps';
mapsA.textContent = 'Maps';
mapsLi.appendChild(mapsA);
navLinksUl.appendChild(mapsLi);
// hash è·³è½¬æ‹¦æˆª
window.addEventListener('hashchange', function() {
  if (location.hash === '#maps') {
    renderMapsPage();
  }
});
function renderMapsPage() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:2rem;max-width:900px;margin:2rem auto 2rem auto;">
      <h2 style="margin-bottom:1.5rem;">å®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹</h2>
      <div style="display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;">
        ${mapsLinks.map(group => `
          <div style='background:var(--bg-secondary);border-radius:8px;box-shadow:0 2px 8px rgba(44,62,80,0.06);padding:1.5rem 1.5rem 1rem 1.5rem;min-width:260px;max-width:340px;flex:1 1 300px;margin-bottom:1.5rem;'>
            <h3 style='font-size:1.1rem;color:var(--primary-color);margin-bottom:1rem;'>${group.group}</h3>
            <ul style='list-style:none;padding:0;'>
              ${group.links.map(link => `<li style='margin-bottom:0.7rem;'><a href='${link.url}' target='_blank' style='color:var(--secondary-color);font-size:1rem;font-weight:500;word-break:break-all;'><i class='fas fa-link' style='margin-right:7px;'></i>${link.name}</a></li>`).join('')}
            </ul>
          </div>
        `).join('')}
      </div>
    </div>
  `;
}

// ä» mainLinks ä¸­ç§»é™¤â€œå®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹â€åˆ†ç»„ï¼ˆå¦‚æœ‰ï¼‰
if (mainLinks[mainLinks.length - 1] && mainLinks[mainLinks.length - 1].group === 'å®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹') {
  mainLinks.pop();
}

// ä¿®æ”¹ Links é¡µé¢å’Œ Maps é¡µé¢å†…å®¹å®½åº¦
function renderLinksPage() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:2rem;max-width:1100px;margin:2rem auto 2rem auto;">
      <h2 style="margin-bottom:1.5rem;">å­¦æœ¯ä¸å·¥å…·é“¾æ¥</h2>
      <div style="display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;">
        ${mainLinks.map(group => `
          <div style='background:var(--bg-secondary);border-radius:8px;box-shadow:0 2px 8px rgba(44,62,80,0.06);padding:1.5rem 1.5rem 1rem 1.5rem;min-width:300px;max-width:400px;flex:1 1 300px;margin-bottom:1.5rem;'>
            <h3 style='font-size:1.1rem;color:var(--primary-color);margin-bottom:1rem;'>${group.group}</h3>
            <ul style='list-style:none;padding:0;'>
              ${group.links.map(link => `<li style='margin-bottom:0.7rem;'><a href='${link.url}' target='_blank' style='color:var(--secondary-color);font-size:1rem;font-weight:500;word-break:break-all;'><i class='fas fa-link' style='margin-right:7px;'></i>${link.name}</a></li>`).join('')}
            </ul>
          </div>
        `).join('')}
      </div>
    </div>
  `;
}

function renderMapsPage() {
  const contentDiv = document.querySelector('.content');
  contentDiv.innerHTML = `
    <div class="markdown-body" style="background:var(--bg-primary);box-shadow:none;padding:2rem;max-width:1100px;margin:2rem auto 2rem auto;">
      <h2 style="margin-bottom:1.5rem;">å®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹</h2>
      <div style="display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;">
        ${mapsLinks.map(group => `
          <div style='background:var(--bg-secondary);border-radius:8px;box-shadow:0 2px 8px rgba(44,62,80,0.06);padding:1.5rem 1.5rem 1rem 1.5rem;min-width:300px;max-width:400px;flex:1 1 300px;margin-bottom:1.5rem;'>
            <h3 style='font-size:1.1rem;color:var(--primary-color);margin-bottom:1rem;'>${group.group}</h3>
            <ul style='list-style:none;padding:0;'>
              ${group.links.map(link => `<li style='margin-bottom:0.7rem;'><a href='${link.url}' target='_blank' style='color:var(--secondary-color);font-size:1rem;font-weight:500;word-break:break-all;'><i class='fas fa-link' style='margin-right:7px;'></i>${link.name}</a></li>`).join('')}
            </ul>
          </div>
        `).join('')}
      </div>
    </div>
  `;
}
document.addEventListener('DOMContentLoaded', function() {
  // Enhance links with descriptions or images
  document.querySelectorAll('.markdown-body a').forEach(link => {
    const url = link.href;
    const descDiv = document.createElement('div');
    descDiv.style.marginTop = '0.5rem';
    descDiv.style.color = '#666';
    descDiv.style.fontSize = '0.9em';
    link.parentElement.appendChild(descDiv);

    fetchLinkMeta(url, descDiv);
  });
});
function fetchLinkMeta(url, descDiv) {
  // å…ˆå°è¯• fetch meta description
  fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`)
    .then(res => res.json())
    .then(data => {
      const html = data.contents;
      let desc = '';
      let img = '';
      // æå– meta description
      const descMatch = html.match(/<meta[^>]*name=["']description["'][^>]*content=["']([^"']+)["'][^>]*>/i) || html.match(/<meta[^>]*content=["']([^"']+)["'][^>]*name=["']description["'][^>]*>/i);
      if (descMatch) desc = descMatch[1];
      // æå– og:image
      const imgMatch = html.match(/<meta[^>]*property=["']og:image["'][^>]*content=["']([^"']+)["'][^>]*>/i);
      if (imgMatch) img = imgMatch[1];
      // æå– favicon
      if (!img) {
        const favMatch = html.match(/<link[^>]*rel=["'](?:shortcut )?icon["'][^>]*href=["']([^"']+)["'][^>]*>/i);
        if (favMatch) {
          let favUrl = favMatch[1];
          if (!favUrl.startsWith('http')) {
            try {
              const u = new URL(url);
              favUrl = u.origin + (favUrl.startsWith('/') ? favUrl : '/' + favUrl);
            } catch {}
          }
          img = favUrl;
        }
      }
      let htmlStr = '';
      if (img) htmlStr += `<img src='${img}' alt='logo' style='max-width:60px;max-height:60px;display:block;margin-bottom:0.5em;border-radius:8px;'>`;
      if (desc) htmlStr += `<div style='color:#666;font-size:0.98em;'>${desc}</div>`;
      if (!desc && !img) htmlStr = `<span style='color:#aaa;font-size:0.98em;'>æš‚æ— ç®€ä»‹/å›¾ç‰‡</span>`;
      descDiv.innerHTML = htmlStr;
    })
    .catch(() => {
      descDiv.innerHTML = `<span style='color:#aaa;font-size:0.98em;'>æš‚æ— ç®€ä»‹/å›¾ç‰‡</span>`;
    });
}

if (mainLinks[mainLinks.length-1] && mainLinks[mainLinks.length-1].group === 'å®æ—¶åœ°å›¾ä¸æ°”å€™ç›‘æµ‹') mainLinks.pop();

  </script>
 
</body>
</html>