<!DOCTYPE html>
<html lang="zh-cn">

  <head><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å— | Xianpu Ji</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—" />
<meta name="author" content="Xianpu Ji" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MJO ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚" />
<meta property="og:description" content="æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MJO ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚" />
<link rel="canonical" href="https://blissful-jasper.github.io/scripts/" />
<meta property="og:url" content="https://blissful-jasper.github.io/scripts/" />
<meta property="og:site_name" content="Xianpu Ji" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Xianpu Ji"},"description":"æˆ‘çš„ç ”ç©¶æ–¹å‘åŒ…æ‹¬çƒ­å¸¦æ³¢åŠ¨ï¼ˆKelvin waves, MJO ç­‰ï¼‰çš„åŠ¨åŠ›å­¦æœºåˆ¶ã€çƒ­å¸¦é™æ°´çš„æ—¶ç©ºå˜ç‡åŠå…¶ä¸æ³¢åŠ¨çš„å…³ç³»ï¼Œä»¥åŠæ°”å€™æ¨¡å¼ï¼ˆå¦‚CMIP6ï¼‰ä¸‹çš„æ³¢åŠ¨æ¼”å˜ç‰¹å¾åˆ†æã€‚ä¹Ÿå…³æ³¨æ·±åº¦å­¦ä¹ åœ¨æ°”è±¡ä¸é™æ°´é¢„æŠ¥ä¸­çš„åˆ›æ–°åº”ç”¨ã€‚","headline":"é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—","url":"https://blissful-jasper.github.io/scripts/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/code-highlighting.css">
  <link rel="stylesheet" href="/assets/gfs-data-styles.css"><link type="application/atom+xml" rel="alternate" href="https://blissful-jasper.github.io/feed.xml" title="Xianpu Ji" /><!-- DNS Prefetch for external resources -->
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  
  <!-- Preload critical fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"></noscript>
  
  <!-- Load non-critical CSS asynchronously -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></noscript>
  
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css"></noscript>
  
  <!-- MathJax - Load only when needed -->
  
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js">
  </script>
  
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams'
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  
  <!-- Prism.js for code highlighting with better theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
</head>
<!-- å…¨ç«™é€šç”¨åŠŸèƒ½æ ·å¼ --><!-- å…¨ç«™é€šç”¨åŠŸèƒ½æ ·å¼å’Œè„šæœ¬ -->

<!-- Complete Theme System -->
<link rel="stylesheet" href="/assets/theme-system-complete.css">
<link rel="stylesheet" href="/assets/theme-switcher.css">

<!-- é˜…è¯»è¿›åº¦æ¡æ ·å¼ -->
<link rel="stylesheet" href="/assets/reading-progress.css">

<!-- è®¿é—®ç»Ÿè®¡å’Œåœ°å›¾æ ·å¼ -->
<link rel="stylesheet" href="/assets/analytics-map.css">

<!-- Enhanced Header Styles -->
<link rel="stylesheet" href="/assets/header-styles.css">

<!-- Modern Homepage Layout -->
<link rel="stylesheet" href="/assets/homepage-layout.css">
<link rel="stylesheet" href="/assets/homepage-gallery-journals.css">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

<!-- ç¡®ä¿ Font Awesome å›¾æ ‡å¯ç”¨ -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


<!-- Theme Initialization Script -->
<script>
  // Initialize theme from localStorage before page renders
  (function() {
    const savedTheme = localStorage.getItem('theme') || 'blue';
    const savedMode = localStorage.getItem('mode') || 'light';
    
    document.documentElement.setAttribute('data-theme', savedMode);
    document.documentElement.classList.add(`theme-${savedTheme}`);
  })();
</script>
<!-- Modern Theme Styles -->
    <link rel="stylesheet" href="/assets/modern-theme.css">
    <link rel="stylesheet" href="/assets/header-styles.css">
    <link rel="stylesheet" href="/assets/footer-styles.css">
    
    <!-- Page-specific styles -->
    
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Preload critical scripts -->
    <link rel="preload" href="/assets/modern-interactions.js" as="script">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—</title>
    <script>
        const AI_API_KEY = "";
    </script>
  </head>

  <body class="modern-layout">
    <!-- Header --><header class="modern-header" role="banner">
    <nav class="nav-container" aria-label="Main navigation">
        <div class="nav-brand">
            <a href="/" class="logo" aria-label="Home">
                
                    <span class="logo-text">Xianpu Ji</span>
                
            </a>
        </div>
        
        <ul class="nav-links" role="menubar">
            <li role="menuitem"><a href="/about.html" class="nav-link">About</a></li>
            <li role="menuitem"><a href="/research.html" class="nav-link">Research</a></li>
            <li role="menuitem"><a href="/publications.html" class="nav-link">Publications</a></li>
            <li role="menuitem"><a href="/blog.html" class="nav-link">Blog</a></li>
            <li role="menuitem"><a href="/journals.html" class="nav-link">Journals</a></li>
            <li role="menuitem"><a href="/gallery.html" class="nav-link">Gallery</a></li>
            <li role="menuitem"><a href="/links.html" class="nav-link">Links</a></li>
            <li role="menuitem"><a href="/maps.html" class="nav-link">Maps</a></li>
            <li role="menuitem"><a href="/contact.html" class="nav-link">Contact</a></li>

        </ul>
        
        <div class="nav-actions">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" type="button">
                <i class="fas fa-moon" id="themeIcon" aria-hidden="true"></i>
            </button>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu" type="button">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </nav>
    
    <!-- Mobile menu overlay -->
    <div class="mobile-menu" id="mobileMenu" role="menu">
        <div class="mobile-menu-content">
            <ul class="mobile-nav-links">
                <li><a href="/about.html" class="mobile-nav-link">About</a></li>
                <li><a href="/research.html" class="mobile-nav-link">Research</a></li>
                <li><a href="/publications.html" class="mobile-nav-link">Publications</a></li>
                <li><a href="/blog.html" class="mobile-nav-link">Blog</a></li>
                <li><a href="/journals.html" class="mobile-nav-link">Journals</a></li>
                <li><a href="/gallery.html" class="mobile-nav-link">Gallery</a></li>
                <li><a href="/links.html" class="mobile-nav-link">Links</a></li>
                <li><a href="/maps.html" class="mobile-nav-link">Maps</a></li>
                <li><a href="/contact.html" class="mobile-nav-link">Contact</a></li>
            </ul>
        </div>
    </div>
</header>
<!-- Main Content -->
    <main class="main-content" role="main">
      <div class="content-wrapper">
        <article class="post">
  <header class="post-header">
    <h1 class="post-title">é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—</h1>
  </header>

  <div class="post-content">
    <h1 id="é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—">é¡¹ç›®æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—</h1>

<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>

<p>æœ¬é¡¹ç›®æä¾›äº†ä¸€å¥—å®Œæ•´çš„æ¸…ç†å·¥å…·ï¼Œå¸®åŠ©ä¿æŒJekyllé¡¹ç›®ç›®å½•å¹²å‡€æ•´æ´ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚</p>

<h2 id="-æ¸…ç†è„šæœ¬">ğŸ§¹ æ¸…ç†è„šæœ¬</h2>

<h3 id="ä¸»è¦æ¸…ç†è„šæœ¬">ä¸»è¦æ¸…ç†è„šæœ¬</h3>

<h4 id="1-cleanupsh--cleanupps1---å®Œæ•´æ¸…ç†">1. <code class="language-plaintext highlighter-rouge">cleanup.sh</code> / <code class="language-plaintext highlighter-rouge">cleanup.ps1</code> - å®Œæ•´æ¸…ç†</h4>
<p><strong>åŠŸèƒ½</strong>: å…¨é¢æ¸…ç†é¡¹ç›®ä¸­çš„ä¸´æ—¶æ–‡ä»¶ã€æ—¥å¿—å’Œæµ‹è¯•æ–‡ä»¶</p>

<p><strong>ä½¿ç”¨æ–¹æ³•</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Linux/macOS</span>
./cleanup.sh <span class="o">[</span>é€‰é¡¹]

<span class="c"># Windows PowerShell  </span>
.<span class="se">\c</span>leanup.ps1 <span class="o">[</span>é€‰é¡¹]
</code></pre></div></div>

<p><strong>é€‰é¡¹</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--dry-run</code> / <code class="language-plaintext highlighter-rouge">-DryRun</code>: é¢„è§ˆæ¨¡å¼ï¼Œæ˜¾ç¤ºå°†è¦åˆ é™¤çš„æ–‡ä»¶ä½†ä¸å®é™…åˆ é™¤</li>
  <li><code class="language-plaintext highlighter-rouge">--deep</code> / <code class="language-plaintext highlighter-rouge">-Deep</code>: æ·±åº¦æ¸…ç†ï¼ŒåŒ…æ‹¬æ„å»ºç¼“å­˜å’Œä¾èµ–æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">--help</code> / <code class="language-plaintext highlighter-rouge">-Help</code>: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</li>
</ul>

<p><strong>ç¤ºä¾‹</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./cleanup.sh                 <span class="c"># æ ‡å‡†æ¸…ç†</span>
./cleanup.sh <span class="nt">--dry-run</span>       <span class="c"># é¢„è§ˆæ¸…ç†å†…å®¹</span>
./cleanup.sh <span class="nt">--deep</span>          <span class="c"># æ·±åº¦æ¸…ç†</span>
</code></pre></div></div>

<h4 id="2-scriptsquick-cleansh--scriptsquick-cleanps1---å¿«é€Ÿæ¸…ç†">2. <code class="language-plaintext highlighter-rouge">scripts/quick-clean.sh</code> / <code class="language-plaintext highlighter-rouge">scripts/quick-clean.ps1</code> - å¿«é€Ÿæ¸…ç†</h4>
<p><strong>åŠŸèƒ½</strong>: ä»…æ¸…ç†æœ€å¸¸è§çš„ä¸´æ—¶æ–‡ä»¶ï¼Œé€‚åˆé¢‘ç¹ä½¿ç”¨</p>

<p><strong>ä½¿ç”¨æ–¹æ³•</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Linux/macOS</span>
./scripts/quick-clean.sh

<span class="c"># Windows PowerShell</span>
.<span class="se">\s</span>cripts<span class="se">\q</span>uick-clean.ps1
</code></pre></div></div>

<h2 id="-è‡ªåŠ¨åŒ–æ¸…ç†">ğŸ”„ è‡ªåŠ¨åŒ–æ¸…ç†</h2>

<h3 id="git-hook-è‡ªåŠ¨æ¸…ç†">Git Hook è‡ªåŠ¨æ¸…ç†</h3>
<p>è®¾ç½®Git pre-commit hookï¼Œåœ¨æ¯æ¬¡æäº¤å‰è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å®‰è£…Git Hook</span>
./scripts/install-hooks.sh
</code></pre></div></div>

<p>å®‰è£…åï¼Œæ¯æ¬¡è¿è¡Œ <code class="language-plaintext highlighter-rouge">git commit</code> æ—¶éƒ½ä¼šè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶ã€‚</p>

<h4 id="3-scriptsauto-cleanupsh--scriptsauto-cleanupps1---è‡ªåŠ¨ç›‘æ§æ¸…ç†">3. <code class="language-plaintext highlighter-rouge">scripts/auto-cleanup.sh</code> / <code class="language-plaintext highlighter-rouge">scripts/auto-cleanup.ps1</code> - è‡ªåŠ¨ç›‘æ§æ¸…ç†</h4>
<p><strong>åŠŸèƒ½</strong>: ç›‘æ§æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨æ¸…ç†ç›¸å…³æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶</p>

<p><strong>ä½¿ç”¨æ–¹æ³•</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Linux/macOS</span>
./scripts/auto-cleanup.sh <span class="o">[</span>é€‰é¡¹]

<span class="c"># Windows PowerShell</span>
.<span class="se">\s</span>cripts<span class="se">\a</span>uto-cleanup.ps1 <span class="o">[</span>é€‰é¡¹]

<span class="c"># Windowsæ‰¹å¤„ç†</span>
.<span class="se">\s</span>cripts<span class="se">\a</span>uto-cleanup.bat <span class="o">[</span>é€‰é¡¹]
</code></pre></div></div>

<p><strong>é€‰é¡¹</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--cleanup-now</code>: ç«‹å³æ‰§è¡Œä¸€æ¬¡æ¸…ç†</li>
  <li><code class="language-plaintext highlighter-rouge">--watch</code>: å¯åŠ¨ç›‘æ§æ¨¡å¼ï¼ŒæŒç»­ç›‘æ§æ–‡ä»¶å˜åŒ–</li>
  <li><code class="language-plaintext highlighter-rouge">--daemon</code>: ä½œä¸ºåå°æœåŠ¡è¿è¡Œ</li>
  <li><code class="language-plaintext highlighter-rouge">--dry-run</code>: é¢„è§ˆæ¨¡å¼ï¼Œæ˜¾ç¤ºå°†è¦æ¸…ç†çš„æ–‡ä»¶ä½†ä¸åˆ é™¤</li>
  <li><code class="language-plaintext highlighter-rouge">--stop</code>: åœæ­¢åå°æœåŠ¡</li>
  <li><code class="language-plaintext highlighter-rouge">--status</code>: æ˜¾ç¤ºåå°æœåŠ¡çŠ¶æ€</li>
</ul>

<p><strong>ç¤ºä¾‹</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/auto-cleanup.sh <span class="nt">--cleanup-now</span>    <span class="c"># ç«‹å³æ¸…ç†ä¸€æ¬¡</span>
./scripts/auto-cleanup.sh <span class="nt">--watch</span>          <span class="c"># å¯åŠ¨ç›‘æ§æ¨¡å¼</span>
./scripts/auto-cleanup.sh <span class="nt">--daemon</span>         <span class="c"># åå°æœåŠ¡æ¨¡å¼</span>
</code></pre></div></div>

<h4 id="4-scriptssmart-cleanupsh---æ™ºèƒ½æ¸…ç†è„šæœ¬">4. <code class="language-plaintext highlighter-rouge">scripts/smart-cleanup.sh</code> - æ™ºèƒ½æ¸…ç†è„šæœ¬</h4>
<p><strong>åŠŸèƒ½</strong>: æ”¯æŒå¤šç§æ¸…ç†æ¨¡å¼å’Œé…ç½®æ–‡ä»¶çš„é«˜çº§æ¸…ç†å·¥å…·</p>

<p><strong>ä½¿ç”¨æ–¹æ³•</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/smart-cleanup.sh <span class="o">[</span>é€‰é¡¹] <span class="o">[</span>æ¸…ç†æ¨¡å¼]
</code></pre></div></div>

<p><strong>æ¸…ç†æ¨¡å¼</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">standard</code>: æ ‡å‡†æ¸…ç†ï¼ˆé»˜è®¤ï¼‰</li>
  <li><code class="language-plaintext highlighter-rouge">build</code>: æ„å»ºæ¸…ç†</li>
  <li><code class="language-plaintext highlighter-rouge">dev</code>: å¼€å‘æ¸…ç†</li>
  <li><code class="language-plaintext highlighter-rouge">deep</code>: æ·±åº¦æ¸…ç†</li>
  <li><code class="language-plaintext highlighter-rouge">custom</code>: è‡ªå®šä¹‰æ¸…ç†</li>
</ul>

<p><strong>é«˜çº§é€‰é¡¹</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--config FILE</code>: æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„</li>
  <li><code class="language-plaintext highlighter-rouge">--backup</code>: æ¸…ç†å‰åˆ›å»ºå¤‡ä»½</li>
  <li><code class="language-plaintext highlighter-rouge">--stats</code>: æ˜¾ç¤ºæ¸…ç†ç»Ÿè®¡ä¿¡æ¯</li>
  <li><code class="language-plaintext highlighter-rouge">--debug</code>: å¯ç”¨è°ƒè¯•æ¨¡å¼</li>
</ul>

<p><strong>ç¤ºä¾‹</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/smart-cleanup.sh <span class="nt">--cleanup-now</span> build    <span class="c"># æ„å»ºæ¸…ç†</span>
./scripts/smart-cleanup.sh <span class="nt">--watch</span> dev            <span class="c"># ç›‘æ§å¼€å‘æ¸…ç†</span>
./scripts/smart-cleanup.sh <span class="nt">--stats</span>                <span class="c"># æ˜¾ç¤ºç»Ÿè®¡</span>
</code></pre></div></div>

<h2 id="-æ¸…ç†å†…å®¹è¯¦ç»†">ğŸ“‚ æ¸…ç†å†…å®¹è¯¦ç»†</h2>

<h3 id="æ ‡å‡†æ¸…ç†é¡¹ç›®">æ ‡å‡†æ¸…ç†é¡¹ç›®</h3>

<h4 id="å¼€å‘æŠ¥å‘Šå’Œæ—¥å¿—">å¼€å‘æŠ¥å‘Šå’Œæ—¥å¿—</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">*_REPORT.md</code> - å¼€å‘æŠ¥å‘Šæ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*_LOG*.md</code> - æ—¥å¿—æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*_COMPLETE*.md</code> - å®ŒæˆæŠ¥å‘Š</li>
  <li><code class="language-plaintext highlighter-rouge">*_FIX*.md</code> - ä¿®å¤æŠ¥å‘Š</li>
  <li><code class="language-plaintext highlighter-rouge">*_SUMMARY*.md</code> - æ€»ç»“æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">PROJECT_CLEANUP_*.md</code> - æ¸…ç†æŠ¥å‘Š</li>
  <li><code class="language-plaintext highlighter-rouge">LIQUID_SYNTAX_*.md</code> - è¯­æ³•é”™è¯¯æŠ¥å‘Š</li>
  <li><code class="language-plaintext highlighter-rouge">GALLERY_*_REPORT.md</code> - ç”»å»Šç›¸å…³æŠ¥å‘Š</li>
  <li><code class="language-plaintext highlighter-rouge">WEBSITE_*_REPORT.md</code> - ç½‘ç«™ç›¸å…³æŠ¥å‘Š</li>
</ul>

<h4 id="æµ‹è¯•å’Œè°ƒè¯•æ–‡ä»¶">æµ‹è¯•å’Œè°ƒè¯•æ–‡ä»¶</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">*test*.html</code> - æµ‹è¯•HTMLæ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*debug*.html</code> - è°ƒè¯•é¡µé¢</li>
  <li><code class="language-plaintext highlighter-rouge">*demo*.html</code> - æ¼”ç¤ºé¡µé¢</li>
  <li><code class="language-plaintext highlighter-rouge">*preview*.html</code> - é¢„è§ˆé¡µé¢</li>
  <li><code class="language-plaintext highlighter-rouge">*validate*.html</code> - éªŒè¯é¡µé¢</li>
  <li><code class="language-plaintext highlighter-rouge">gallery-test-*.html</code> - ç”»å»Šæµ‹è¯•æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">static-image-*.html</code> - é™æ€å›¾ç‰‡æµ‹è¯•</li>
</ul>

<h4 id="ä¸´æ—¶æ–‡ä»¶">ä¸´æ—¶æ–‡ä»¶</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">*.tmp</code> - ä¸´æ—¶æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*.bak</code> - å¤‡ä»½æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*.swp</code>, <code class="language-plaintext highlighter-rouge">*.swo</code> - Vimäº¤æ¢æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*~</code> - ç¼–è¾‘å™¨ä¸´æ—¶æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*.orig</code> - åˆå¹¶å†²çªåŸå§‹æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">*.rej</code> - è¡¥ä¸æ‹’ç»æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">.DS_Store</code> - macOSç³»ç»Ÿæ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">Thumbs.db</code> - Windowsç¼©ç•¥å›¾ç¼“å­˜</li>
</ul>

<h4 id="æµ‹è¯•å’Œå¤‡ä»½ç›®å½•">æµ‹è¯•å’Œå¤‡ä»½ç›®å½•</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_test-pages/</code> - æµ‹è¯•é¡µé¢ç›®å½•</li>
  <li><code class="language-plaintext highlighter-rouge">_backup/</code> - å¤‡ä»½ç›®å½•</li>
  <li><code class="language-plaintext highlighter-rouge">backup/</code> - å¦ä¸€ä¸ªå¤‡ä»½ç›®å½•</li>
  <li><code class="language-plaintext highlighter-rouge">test/</code>, <code class="language-plaintext highlighter-rouge">tests/</code> - æµ‹è¯•ç›®å½•</li>
  <li><code class="language-plaintext highlighter-rouge">logs/</code>, <code class="language-plaintext highlighter-rouge">_logs/</code> - æ—¥å¿—ç›®å½•</li>
</ul>

<h3 id="æ·±åº¦æ¸…ç†é¡¹ç›®-ä½¿ç”¨-deep">æ·±åº¦æ¸…ç†é¡¹ç›® (ä½¿ç”¨ â€“deep)</h3>

<h4 id="jekyllæ„å»ºæ–‡ä»¶">Jekyllæ„å»ºæ–‡ä»¶</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_site/</code> - Jekyllæ„å»ºè¾“å‡º</li>
  <li><code class="language-plaintext highlighter-rouge">.sass-cache/</code> - Sassç¼“å­˜</li>
  <li><code class="language-plaintext highlighter-rouge">.jekyll-cache/</code> - Jekyllç¼“å­˜</li>
  <li><code class="language-plaintext highlighter-rouge">.jekyll-metadata</code> - Jekyllå…ƒæ•°æ®</li>
  <li><code class="language-plaintext highlighter-rouge">.bundle/</code> - Bundlerç¼“å­˜</li>
  <li><code class="language-plaintext highlighter-rouge">vendor/</code> - Vendorä¾èµ–</li>
</ul>

<h4 id="nodejsæ–‡ä»¶-å¦‚æœä½¿ç”¨">Node.jsæ–‡ä»¶ (å¦‚æœä½¿ç”¨)</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">node_modules/</code> - Node.jsä¾èµ–</li>
  <li><code class="language-plaintext highlighter-rouge">npm-debug.log*</code> - npmè°ƒè¯•æ—¥å¿—</li>
  <li><code class="language-plaintext highlighter-rouge">yarn-debug.log*</code> - Yarnè°ƒè¯•æ—¥å¿—</li>
  <li><code class="language-plaintext highlighter-rouge">yarn-error.log*</code> - Yarné”™è¯¯æ—¥å¿—</li>
</ul>

<h2 id="ï¸-é…ç½®">âš™ï¸ é…ç½®</h2>

<h3 id="gitignore-è‡ªåŠ¨æ›´æ–°">.gitignore è‡ªåŠ¨æ›´æ–°</h3>
<p>æ¸…ç†è„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–° <code class="language-plaintext highlighter-rouge">.gitignore</code> æ–‡ä»¶ï¼Œç¡®ä¿æ¸…ç†çš„æ–‡ä»¶ç±»å‹è¢«æ­£ç¡®å¿½ç•¥ï¼š</p>

<pre><code class="language-ignore"># è‡ªåŠ¨æ¸…ç†çš„æ–‡ä»¶ç±»å‹
*_REPORT.md
*_LOG*.md
*_COMPLETE*.md
*_FIX*.md
*test*.html
*debug*.html
*demo*.html
_test-pages/
_backup/
backup/
*.tmp
*.bak
*~
</code></pre>

<h3 id="è‡ªå®šä¹‰æ¸…ç†è§„åˆ™">è‡ªå®šä¹‰æ¸…ç†è§„åˆ™</h3>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹è„šæœ¬ä¸­çš„ <code class="language-plaintext highlighter-rouge">patterns</code> æ•°ç»„æ¥è‡ªå®šä¹‰æ¸…ç†è§„åˆ™ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åœ¨ cleanup.sh ä¸­æ·»åŠ è‡ªå®šä¹‰æ¨¡å¼</span>
<span class="nv">patterns</span><span class="o">=(</span>
    <span class="s2">"*_REPORT.md"</span>
    <span class="s2">"custom_pattern*.html"</span>
    <span class="c"># æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰æ¨¡å¼</span>
<span class="o">)</span>
</code></pre></div></div>

<h2 id="-æœ€ä½³å®è·µ">ğŸš€ æœ€ä½³å®è·µ</h2>

<h3 id="æ—¥å¸¸å¼€å‘æµç¨‹">æ—¥å¸¸å¼€å‘æµç¨‹</h3>
<ol>
  <li><strong>å¼€å‘å‰</strong>: è¿è¡Œ <code class="language-plaintext highlighter-rouge">./scripts/quick-clean.sh</code> ç¡®ä¿ç¯å¢ƒå¹²å‡€</li>
  <li><strong>å¼€å‘ä¸­</strong>: å®šæœŸè¿è¡Œå¿«é€Ÿæ¸…ç†</li>
  <li><strong>æäº¤å‰</strong>: è¿è¡Œ <code class="language-plaintext highlighter-rouge">./cleanup.sh</code> å®Œæ•´æ¸…ç†</li>
  <li><strong>é‡å¤§æ›´æ”¹å</strong>: è¿è¡Œ <code class="language-plaintext highlighter-rouge">./cleanup.sh --deep</code> æ·±åº¦æ¸…ç†</li>
</ol>

<h3 id="å›¢é˜Ÿåä½œ">å›¢é˜Ÿåä½œ</h3>
<ol>
  <li><strong>è®¾ç½®Git Hook</strong>: ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½å®‰è£…äº†è‡ªåŠ¨æ¸…ç†hook</li>
  <li><strong>å®šæœŸæ¸…ç†</strong>: å»ºè®®æ¯å‘¨è¿è¡Œä¸€æ¬¡æ·±åº¦æ¸…ç†</li>
  <li><strong>ä»£ç å®¡æŸ¥</strong>: æ£€æŸ¥æ˜¯å¦æœ‰ä¸´æ—¶æ–‡ä»¶è¢«æ„å¤–æäº¤</li>
</ol>

<h3 id="æŒç»­é›†æˆ">æŒç»­é›†æˆ</h3>
<p>åœ¨CI/CDæµç¨‹ä¸­åŠ å…¥æ¸…ç†æ­¥éª¤ï¼š</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># GitHub Actions ç¤ºä¾‹</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Clean project</span>
  <span class="na">run</span><span class="pi">:</span> <span class="s">./cleanup.sh</span>
</code></pre></div></div>

<h2 id="-æ•…éšœæ’é™¤">ğŸ” æ•…éšœæ’é™¤</h2>

<h3 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h3>

<p><strong>Q: è„šæœ¬æƒé™ä¸è¶³</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Linux/macOS</span>
<span class="nb">chmod</span> +x cleanup.sh
<span class="nb">chmod</span> +x scripts/<span class="k">*</span>.sh

<span class="c"># Windows (ç®¡ç†å‘˜PowerShell)</span>
Set-ExecutionPolicy RemoteSigned
</code></pre></div></div>

<p><strong>Q: è¯¯åˆ é‡è¦æ–‡ä»¶</strong>
ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">--dry-run</code> é€‰é¡¹é¢„è§ˆæ¸…ç†å†…å®¹ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./cleanup.sh <span class="nt">--dry-run</span>
</code></pre></div></div>

<p><strong>Q: Git Hook ä¸å·¥ä½œ</strong>
é‡æ–°å®‰è£…hookï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/install-hooks.sh
</code></pre></div></div>

<p><strong>Q: æ¸…ç†åç½‘ç«™æ— æ³•æ„å»º</strong>
è¿è¡Œæ·±åº¦æ¸…ç†åé‡æ–°å®‰è£…ä¾èµ–ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./cleanup.sh <span class="nt">--deep</span>
bundle <span class="nb">install</span>
</code></pre></div></div>

<h2 id="-æ€§èƒ½æå‡">ğŸ“Š æ€§èƒ½æå‡</h2>

<p>ä½¿ç”¨æ¸…ç†å·¥å…·çš„é¢„æœŸæ•ˆæœï¼š</p>

<ul>
  <li><strong>æ–‡ä»¶æ•°é‡å‡å°‘</strong>: 30-70%</li>
  <li><strong>æ„å»ºé€Ÿåº¦æå‡</strong>: 10-30%</li>
  <li><strong>Gitæ“ä½œåŠ é€Ÿ</strong>: 15-25%</li>
  <li><strong>IDEå“åº”æå‡</strong>: 5-15%</li>
</ul>

<h2 id="-è¿›é˜¶ç”¨æ³•">ğŸ¯ è¿›é˜¶ç”¨æ³•</h2>

<h3 id="è‡ªå®šä¹‰æ¸…ç†è„šæœ¬">è‡ªå®šä¹‰æ¸…ç†è„šæœ¬</h3>
<p>åˆ›å»ºé¡¹ç›®ç‰¹å®šçš„æ¸…ç†è§„åˆ™ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åˆ›å»º custom-clean.sh</span>
<span class="c">#!/bin/bash</span>
<span class="c"># æ¸…ç†ç‰¹å®šçš„é¡¹ç›®æ–‡ä»¶</span>
<span class="nb">rm</span> <span class="nt">-f</span> my_specific_temp_files_<span class="k">*</span>
./cleanup.sh
<span class="nb">echo</span> <span class="s2">"âœ… è‡ªå®šä¹‰æ¸…ç†å®Œæˆ"</span>
</code></pre></div></div>

<h3 id="å®šæ—¶æ¸…ç†">å®šæ—¶æ¸…ç†</h3>
<p>ä½¿ç”¨cron jobå®šæ—¶æ¸…ç†ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ·»åŠ åˆ°crontab - æ¯å¤©æ¸…ç†ä¸€æ¬¡</span>
0 2 <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="nb">cd</span> /path/to/project <span class="o">&amp;&amp;</span> ./cleanup.sh <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
</code></pre></div></div>

<hr />

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>æ¸…ç†å·¥å…·å¥—ä»¶æä¾›äº†ï¼š</p>

<ul>
  <li>ğŸ§¹ <strong>å…¨é¢æ¸…ç†</strong>: åˆ é™¤æ‰€æœ‰ç±»å‹çš„ä¸´æ—¶æ–‡ä»¶</li>
  <li>âš¡ <strong>å¿«é€Ÿæ¸…ç†</strong>: æ—¥å¸¸ä½¿ç”¨çš„è½»é‡æ¸…ç†</li>
  <li>ğŸ”„ <strong>è‡ªåŠ¨åŒ–</strong>: Git hookè‡ªåŠ¨æ¸…ç†</li>
  <li>ğŸ›¡ï¸ <strong>å®‰å…¨æ€§</strong>: é¢„è§ˆæ¨¡å¼é˜²æ­¢è¯¯åˆ </li>
  <li>ğŸ“ˆ <strong>æ€§èƒ½</strong>: æ˜¾è‘—æå‡é¡¹ç›®å“åº”é€Ÿåº¦</li>
</ul>

<p>é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œå¯ä»¥ä¿æŒJekyllé¡¹ç›®å§‹ç»ˆå¤„äºæœ€ä½³çŠ¶æ€ï¼</p>

<h2 id="-è‡ªåŠ¨æ¸…ç†ç³»ç»Ÿ">ğŸ¤– è‡ªåŠ¨æ¸…ç†ç³»ç»Ÿ</h2>

<h3 id="é…ç½®æ–‡ä»¶ç³»ç»Ÿ">é…ç½®æ–‡ä»¶ç³»ç»Ÿ</h3>
<p>æ™ºèƒ½æ¸…ç†è„šæœ¬æ”¯æŒé…ç½®æ–‡ä»¶ <code class="language-plaintext highlighter-rouge">auto-cleanup.config</code>ï¼Œå…è®¸ä½ è‡ªå®šä¹‰æ¸…ç†è¡Œä¸ºï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åŸºæœ¬é…ç½®</span>
<span class="nv">WATCH_INTERVAL</span><span class="o">=</span>5                    <span class="c"># ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰</span>
<span class="nv">CLEANUP_DELAY</span><span class="o">=</span>30                    <span class="c"># æ¸…ç†å»¶è¿Ÿï¼ˆç§’ï¼‰</span>
<span class="nv">VERBOSE_LOGGING</span><span class="o">=</span><span class="nb">true</span>                <span class="c"># è¯¦ç»†æ—¥å¿—</span>
<span class="nv">LOG_MAX_SIZE</span><span class="o">=</span>10                     <span class="c"># æ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å°ï¼ˆMBï¼‰</span>

<span class="c"># é€šçŸ¥é…ç½®</span>
<span class="nv">ENABLE_NOTIFICATIONS</span><span class="o">=</span><span class="nb">true</span>           <span class="c"># å¯ç”¨é€šçŸ¥</span>
<span class="nv">NOTIFICATION_MODE</span><span class="o">=</span>both              <span class="c"># é€šçŸ¥æ–¹å¼: console/file/both</span>

<span class="c"># å¤‡ä»½é…ç½®</span>
<span class="nv">CREATE_BACKUP_BEFORE_CLEANUP</span><span class="o">=</span><span class="nb">false</span> <span class="c"># æ¸…ç†å‰å¤‡ä»½</span>
<span class="nv">BACKUP_DIRECTORY</span><span class="o">=</span>.cleanup-backup    <span class="c"># å¤‡ä»½ç›®å½•</span>
<span class="nv">BACKUP_RETENTION_DAYS</span><span class="o">=</span>7             <span class="c"># å¤‡ä»½ä¿ç•™å¤©æ•°</span>

<span class="c"># æ€§èƒ½é…ç½®</span>
<span class="nv">MAX_FILES_PER_CLEANUP</span><span class="o">=</span>1000          <span class="c"># å•æ¬¡æ¸…ç†æœ€å¤§æ–‡ä»¶æ•°</span>
<span class="nv">CLEANUP_TIMEOUT</span><span class="o">=</span>300                 <span class="c"># æ¸…ç†è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</span>
<span class="nv">CLEANUP_THREADS</span><span class="o">=</span>4                   <span class="c"># æ¸…ç†çº¿ç¨‹æ•°</span>
</code></pre></div></div>

<h3 id="æ¸…ç†æ¨¡å¼è¯¦è§£">æ¸…ç†æ¨¡å¼è¯¦è§£</h3>

<h4 id="1-standard-æ¨¡å¼æ ‡å‡†æ¸…ç†">1. Standard æ¨¡å¼ï¼ˆæ ‡å‡†æ¸…ç†ï¼‰</h4>
<p>æ¸…ç†å¸¸è§çš„ä¸´æ—¶æ–‡ä»¶å’Œæ—¥å¿—ï¼š</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">*.log</code>, <code class="language-plaintext highlighter-rouge">*.tmp</code>, <code class="language-plaintext highlighter-rouge">*~</code></li>
  <li><code class="language-plaintext highlighter-rouge">.DS_Store</code>, <code class="language-plaintext highlighter-rouge">Thumbs.db</code></li>
  <li><code class="language-plaintext highlighter-rouge">*.swp</code>, <code class="language-plaintext highlighter-rouge">*.swo</code></li>
  <li><code class="language-plaintext highlighter-rouge">.jekyll-metadata</code></li>
</ul>

<h4 id="2-build-æ¨¡å¼æ„å»ºæ¸…ç†">2. Build æ¨¡å¼ï¼ˆæ„å»ºæ¸…ç†ï¼‰</h4>
<p>æ¸…ç†æ„å»ºå’Œç¼“å­˜æ–‡ä»¶ï¼š</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_site/*</code></li>
  <li><code class="language-plaintext highlighter-rouge">.sass-cache/*</code></li>
  <li><code class="language-plaintext highlighter-rouge">.jekyll-cache/*</code></li>
  <li><code class="language-plaintext highlighter-rouge">node_modules/.cache/*</code></li>
  <li><code class="language-plaintext highlighter-rouge">.bundle/cache/*</code></li>
</ul>

<h4 id="3-dev-æ¨¡å¼å¼€å‘æ¸…ç†">3. Dev æ¨¡å¼ï¼ˆå¼€å‘æ¸…ç†ï¼‰</h4>
<p>æ¸…ç†å¼€å‘å·¥å…·äº§ç”Ÿçš„æ–‡ä»¶ï¼š</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">*.pid</code></li>
  <li><code class="language-plaintext highlighter-rouge">*.lock.tmp</code></li>
  <li><code class="language-plaintext highlighter-rouge">debug.log</code>, <code class="language-plaintext highlighter-rouge">error.log</code></li>
  <li><code class="language-plaintext highlighter-rouge">.vscode/settings.json.tmp</code></li>
</ul>

<h4 id="4-deep-æ¨¡å¼æ·±åº¦æ¸…ç†">4. Deep æ¨¡å¼ï¼ˆæ·±åº¦æ¸…ç†ï¼‰</h4>
<p>ç»„åˆæ‰€æœ‰æ¨¡å¼çš„æ¸…ç†å†…å®¹ï¼Œè¿›è¡Œå…¨é¢æ¸…ç†ã€‚</p>

<h4 id="5-custom-æ¨¡å¼è‡ªå®šä¹‰æ¸…ç†">5. Custom æ¨¡å¼ï¼ˆè‡ªå®šä¹‰æ¸…ç†ï¼‰</h4>
<p>æ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„ <code class="language-plaintext highlighter-rouge">CUSTOM_PATTERNS</code> è¿›è¡Œæ¸…ç†ã€‚</p>

<h3 id="è‡ªåŠ¨ç›‘æ§åŠŸèƒ½">è‡ªåŠ¨ç›‘æ§åŠŸèƒ½</h3>

<h4 id="æ™ºèƒ½è§¦å‘æœºåˆ¶">æ™ºèƒ½è§¦å‘æœºåˆ¶</h4>
<p>è‡ªåŠ¨æ¸…ç†ç³»ç»Ÿä¼šç›‘æ§ä»¥ä¸‹æ–‡ä»¶ç±»å‹çš„å˜åŒ–ï¼š</p>
<ul>
  <li><strong>å†…å®¹æ–‡ä»¶</strong>: <code class="language-plaintext highlighter-rouge">.md</code>, <code class="language-plaintext highlighter-rouge">.html</code></li>
  <li><strong>æ ·å¼æ–‡ä»¶</strong>: <code class="language-plaintext highlighter-rouge">.scss</code>, <code class="language-plaintext highlighter-rouge">.css</code></li>
  <li><strong>è„šæœ¬æ–‡ä»¶</strong>: <code class="language-plaintext highlighter-rouge">.js</code></li>
  <li><strong>é…ç½®æ–‡ä»¶</strong>: <code class="language-plaintext highlighter-rouge">.yml</code>, <code class="language-plaintext highlighter-rouge">.yaml</code></li>
</ul>

<h4 id="è§¦å‘ç›®å½•">è§¦å‘ç›®å½•</h4>
<p>é‡ç‚¹ç›‘æ§ä»¥ä¸‹ç›®å½•çš„å˜åŒ–ï¼š</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_posts/</code> - åšå®¢æ–‡ç« </li>
  <li><code class="language-plaintext highlighter-rouge">_pages/</code> - é¡µé¢æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">_sass/</code> - æ ·å¼æ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">assets/</code> - èµ„æºæ–‡ä»¶</li>
  <li><code class="language-plaintext highlighter-rouge">_data/</code> - æ•°æ®æ–‡ä»¶</li>
</ul>

<h3 id="ç»Ÿè®¡å’Œç›‘æ§">ç»Ÿè®¡å’Œç›‘æ§</h3>

<h4 id="æ¸…ç†ç»Ÿè®¡">æ¸…ç†ç»Ÿè®¡</h4>
<p>æ™ºèƒ½æ¸…ç†è„šæœ¬ä¼šè®°å½•è¯¦ç»†çš„æ¸…ç†ç»Ÿè®¡ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æŸ¥çœ‹æ¸…ç†ç»Ÿè®¡</span>
./scripts/smart-cleanup.sh <span class="nt">--stats</span>
</code></pre></div></div>

<p>ç»Ÿè®¡ä¿¡æ¯åŒ…æ‹¬ï¼š</p>
<ul>
  <li>æ€»æ¸…ç†æ¬¡æ•°</li>
  <li>æ€»æ¸…ç†æ–‡ä»¶æ•°</li>
  <li>æŒ‰æ¨¡å¼åˆ†ç±»çš„ç»Ÿè®¡</li>
  <li>æœ€è¿‘æ¸…ç†å†å²</li>
</ul>

<h4 id="æ—¥å¿—ç³»ç»Ÿ">æ—¥å¿—ç³»ç»Ÿ</h4>
<ul>
  <li><strong>è¯¦ç»†æ—¥å¿—</strong>: è®°å½•æ‰€æœ‰æ¸…ç†æ“ä½œ</li>
  <li><strong>æ—¥å¿—è½®è½¬</strong>: è‡ªåŠ¨ç®¡ç†æ—¥å¿—æ–‡ä»¶å¤§å°</li>
  <li><strong>å¤šçº§åˆ«æ—¥å¿—</strong>: ERRORã€WARNINGã€INFOã€DEBUG</li>
  <li><strong>æ—¶é—´æˆ³</strong>: ç²¾ç¡®è®°å½•æ“ä½œæ—¶é—´</li>
</ul>

<h3 id="åå°æœåŠ¡æ¨¡å¼">åå°æœåŠ¡æ¨¡å¼</h3>

<h4 id="å¯åŠ¨åå°æœåŠ¡">å¯åŠ¨åå°æœåŠ¡</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Linux/macOS</span>
./scripts/auto-cleanup.sh <span class="nt">--daemon</span>

<span class="c"># Windows</span>
.<span class="se">\s</span>cripts<span class="se">\a</span>uto-cleanup.bat daemon
</code></pre></div></div>

<h4 id="ç®¡ç†åå°æœåŠ¡">ç®¡ç†åå°æœåŠ¡</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æŸ¥çœ‹çŠ¶æ€</span>
./scripts/auto-cleanup.sh <span class="nt">--status</span>

<span class="c"># åœæ­¢æœåŠ¡</span>
./scripts/auto-cleanup.sh <span class="nt">--stop</span>
</code></pre></div></div>

<h3 id="é«˜çº§é…ç½®é€‰é¡¹">é«˜çº§é…ç½®é€‰é¡¹</h3>

<h4 id="æ’é™¤è§„åˆ™">æ’é™¤è§„åˆ™</h4>
<p>æ°¸ä¸æ¸…ç†çš„æ–‡ä»¶å’Œç›®å½•ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">EXCLUDE_DIRECTORIES</span><span class="o">=(</span>
    <span class="s2">".git"</span> <span class="s2">"_posts"</span> <span class="s2">"_pages"</span> <span class="s2">"_data"</span> 
    <span class="s2">"_includes"</span> <span class="s2">"_layouts"</span> <span class="s2">"assets"</span>
<span class="o">)</span>

<span class="nv">EXCLUDE_FILES</span><span class="o">=(</span>
    <span class="s2">"_config.yml"</span> <span class="s2">"Gemfile"</span> <span class="s2">"README.md"</span> 
    <span class="s2">"LICENSE"</span> <span class="s2">".gitignore"</span>
<span class="o">)</span>

<span class="nv">WHITELIST_EXTENSIONS</span><span class="o">=(</span>
    <span class="s2">".md"</span> <span class="s2">".html"</span> <span class="s2">".css"</span> <span class="s2">".scss"</span> <span class="s2">".js"</span> 
    <span class="s2">".json"</span> <span class="s2">".yml"</span> <span class="s2">".yaml"</span> <span class="s2">".png"</span> <span class="s2">".jpg"</span>
<span class="o">)</span>
</code></pre></div></div>

<h4 id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å¯ç”¨å¢é‡æ¸…ç†</span>
<span class="nv">ENABLE_INCREMENTAL_CLEANUP</span><span class="o">=</span><span class="nb">true</span>

<span class="c"># å¹¶å‘æ¸…ç†çº¿ç¨‹æ•°</span>
<span class="nv">CLEANUP_THREADS</span><span class="o">=</span>4

<span class="c"># æ¸…ç†æ“ä½œè¶…æ—¶</span>
<span class="nv">CLEANUP_TIMEOUT</span><span class="o">=</span>300

<span class="c"># å•æ¬¡æœ€å¤§æ–‡ä»¶æ•°</span>
<span class="nv">MAX_FILES_PER_CLEANUP</span><span class="o">=</span>1000
</code></pre></div></div>

<h3 id="é›†æˆåˆ°å¼€å‘å·¥ä½œæµ">é›†æˆåˆ°å¼€å‘å·¥ä½œæµ</h3>

<h4 id="1-vs-code-ä»»åŠ¡é›†æˆ">1. VS Code ä»»åŠ¡é›†æˆ</h4>
<p>åœ¨ <code class="language-plaintext highlighter-rouge">.vscode/tasks.json</code> ä¸­æ·»åŠ ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auto Cleanup"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./scripts/auto-cleanup.sh"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"--cleanup-now"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="2-npmyarn-è„šæœ¬é›†æˆ">2. npm/yarn è„šæœ¬é›†æˆ</h4>
<p>åœ¨ <code class="language-plaintext highlighter-rouge">package.json</code> ä¸­æ·»åŠ ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scripts/auto-cleanup.sh --cleanup-now"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clean:watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scripts/auto-cleanup.sh --watch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clean:deep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scripts/smart-cleanup.sh --cleanup-now deep"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="3-github-actions-é›†æˆ">3. GitHub Actions é›†æˆ</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">Auto Cleanup</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">cleanup</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run cleanup</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">./scripts/smart-cleanup.sh --cleanup-now build</span>
</code></pre></div></div>

<h3 id="å®šåˆ¶åŒ–å»ºè®®">å®šåˆ¶åŒ–å»ºè®®</h3>

<h4 id="æ ¹æ®é¡¹ç›®è°ƒæ•´é…ç½®">æ ¹æ®é¡¹ç›®è°ƒæ•´é…ç½®</h4>
<ol>
  <li><strong>å°å‹é¡¹ç›®</strong>: ä½¿ç”¨æ ‡å‡†æ¸…ç†ï¼Œè¾ƒçŸ­çš„ç›‘æ§é—´éš”</li>
  <li><strong>å¤§å‹é¡¹ç›®</strong>: ä½¿ç”¨æ·±åº¦æ¸…ç†ï¼Œè¾ƒé•¿çš„æ¸…ç†å»¶è¿Ÿ</li>
  <li><strong>é¢‘ç¹æ›´æ–°</strong>: å¯ç”¨åå°æœåŠ¡æ¨¡å¼</li>
  <li><strong>å›¢é˜Ÿåä½œ</strong>: ç»Ÿä¸€é…ç½®æ–‡ä»¶å¹¶åŠ å…¥ç‰ˆæœ¬æ§åˆ¶</li>
</ol>

<h4 id="æ€§èƒ½è€ƒè™‘">æ€§èƒ½è€ƒè™‘</h4>
<ul>
  <li>è°ƒæ•´ <code class="language-plaintext highlighter-rouge">CLEANUP_THREADS</code> æ ¹æ®ç³»ç»Ÿæ€§èƒ½</li>
  <li>è®¾ç½®åˆç†çš„ <code class="language-plaintext highlighter-rouge">MAX_FILES_PER_CLEANUP</code> é¿å…ç³»ç»Ÿè´Ÿè½½è¿‡é«˜</li>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">ENABLE_INCREMENTAL_CLEANUP</code> æé«˜æ•ˆç‡</li>
</ul>

<hr />

<p><em>è‡ªåŠ¨æ¸…ç†ç³»ç»Ÿè®©ä½ çš„Jekyllé¡¹ç›®å§‹ç»ˆä¿æŒå¹²å‡€æ•´æ´ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼</em></p>

  </div>
</article>

      </div>
    </main>

    <!-- Footer --><footer class="modern-footer" role="contentinfo">
  <div class="footer-container">
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-brand">
          <h3 class="footer-title">Xianpu Ji</h3>
          <p class="footer-subtitle">Academic & Research Portfolio</p>
        </div>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">Quick Links</h4>
        <ul class="footer-links">
          <li><a href="/about.html" class="footer-link">About</a></li>
          <li><a href="/research.html" class="footer-link">Research</a></li>
          <li><a href="/publications.html" class="footer-link">Publications</a></li>
          <li><a href="/blog.html" class="footer-link">Blog</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">Connect</h4>
        <ul class="footer-links">
          <li><a href="/contact.html" class="footer-link">Contact</a></li>
          <li><a href="/links.html" class="footer-link">Links</a></li>
          <li><a href="/maps.html" class="footer-link">Maps</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4 class="footer-heading">External Links</h4>
        <div class="external-links">
          
            <a href="https://github.com/Blissful-Jasper" target="_blank" rel="noopener noreferrer" class="external-link" title="GitHub">
              <i class="fas fa-external-link-alt"></i>
              GitHub
            </a>
          
            <a href="https://orcid.org/0009-0001-5197-4804" target="_blank" rel="noopener noreferrer" class="external-link" title="ORCID">
              <i class="fas fa-external-link-alt"></i>
              ORCID
            </a>
          
            <a href="https://www.researchgate.net/profile/Xianpu-Ji" target="_blank" rel="noopener noreferrer" class="external-link" title="ResearchGate">
              <i class="fas fa-external-link-alt"></i>
              ResearchGate
            </a>
          
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p class="copyright">
          <p>Â© 2025 Xianpu Ji. Powered by <a href="https://jekyllrb.com/">Jekyll</a> and hosted on <a href="https://pages.github.com/">GitHub Pages</a>.</p>

        </p>
        <div class="footer-meta">
          <span class="last-updated">Last updated: 2025-07-07</span>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- Global Stats Display --><!-- å…¨å±€è®¿é—®ç»Ÿè®¡å±•ç¤ºç»„ä»¶ -->
<div id="global-stats-display" class="global-stats-container">
  <div class="stats-toggle-btn" onclick="toggleGlobalStats()">
    <i class="fas fa-chart-bar"></i>
    <span class="stats-label">ç»Ÿè®¡</span>
  </div>
  
  <div class="stats-panel" id="global-stats-panel">
    <div class="stats-header">
      <h3><i class="fas fa-analytics"></i> å®æ—¶è®¿é—®ç»Ÿè®¡</h3>
      <button class="close-stats" onclick="toggleGlobalStats()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="stats-content">
      <div class="quick-stats">
        <div class="quick-stat-item">
          <div class="stat-value" id="global-total-visits">--</div>
          <div class="stat-label">æ€»è®¿é—®é‡</div>
        </div>
        <div class="quick-stat-item">
          <div class="stat-value" id="global-today-visits">--</div>
          <div class="stat-label">ä»Šæ—¥è®¿é—®</div>
        </div>
        <div class="quick-stat-item">
          <div class="stat-value" id="global-online-users">--</div>
          <div class="stat-label">åœ¨çº¿ç”¨æˆ·</div>
        </div>
      </div>
      
      <div class="current-session">
        <h4><i class="fas fa-user-clock"></i> å½“å‰ä¼šè¯</h4>
        <div class="session-info">
          <div class="session-item">
            <span class="session-label">è®¿é—®æ—¶é•¿:</span>
            <span class="session-value" id="global-session-duration">00:00</span>
          </div>
          <div class="session-item">
            <span class="session-label">é¡µé¢æµè§ˆ:</span>
            <span class="session-value" id="global-page-views">1</span>
          </div>
          <div class="session-item">
            <span class="session-label">è®¾å¤‡ç±»å‹:</span>
            <span class="session-value" id="global-device-type">Desktop</span>
          </div>
        </div>
      </div>
      
      <div class="last-update">
        <i class="far fa-clock"></i>
        æœ€åæ›´æ–°: <span id="global-last-update">--</span>
      </div>
    </div>
  </div>
</div>

<style>
.global-stats-container {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  font-family: var(--font-family-sans, 'Inter', sans-serif);
}

.stats-toggle-btn {
  background: var(--gradient-primary, linear-gradient(135deg, #2563eb, #1e40af));
  color: white;
  border: none;
  border-radius: 50px;
  padding: 12px 18px;
  cursor: pointer;
  box-shadow: var(--shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1));
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  font-size: 14px;
  backdrop-filter: blur(10px);
}

.stats-toggle-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
  filter: brightness(1.1);
}

.stats-panel {
  position: absolute;
  bottom: 60px;
  left: 0;
  width: 320px;
  background: var(--bg-primary, white);
  border-radius: var(--radius-xl, 1rem);
  box-shadow: var(--shadow-2xl, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
  border: 1px solid rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px);
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all 0.3s ease;
}

.stats-panel.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.stats-header {
  background: var(--gradient-primary, linear-gradient(135deg, #2563eb, #1e40af));
  color: white;
  padding: 16px 20px;
  border-radius: var(--radius-xl, 1rem) var(--radius-xl, 1rem) 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stats-header h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.close-stats {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.close-stats:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.stats-content {
  padding: 20px;
}

.quick-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.quick-stat-item {
  text-align: center;
  padding: 12px 8px;
  background: var(--bg-secondary, #f9fafb);
  border-radius: var(--radius-lg, 0.75rem);
  transition: all 0.2s ease;
}

.quick-stat-item:hover {
  background: var(--bg-tertiary, #f3f4f6);
  transform: translateY(-2px);
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--primary-blue, #2563eb);
  margin-bottom: 4px;
}

.stat-label {
  font-size: 11px;
  color: var(--text-muted, #9ca3af);
  font-weight: 500;
}

.current-session {
  margin-bottom: 16px;
}

.current-session h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary, #1f2937);
  display: flex;
  align-items: center;
  gap: 8px;
}

.session-info {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.session-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--bg-secondary, #f9fafb);
  border-radius: var(--radius-md, 0.5rem);
  font-size: 13px;
}

.session-label {
  color: var(--text-secondary, #6b7280);
  font-weight: 500;
}

.session-value {
  color: var(--text-primary, #1f2937);
  font-weight: 600;
}

.last-update {
  text-align: center;
  font-size: 12px;
  color: var(--text-muted, #9ca3af);
  padding-top: 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

@media (max-width: 768px) {
  .global-stats-container {
    bottom: 10px;
    left: 10px;
  }
  
  .stats-panel {
    width: calc(100vw - 40px);
    max-width: 300px;
  }
  
  .quick-stats {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-toggle-btn {
    padding: 10px 14px;
    font-size: 13px;
  }
}
</style>

<script>
function toggleGlobalStats() {
  const panel = document.getElementById('global-stats-panel');
  panel.classList.toggle('active');
}

// åˆå§‹åŒ–å…¨å±€ç»Ÿè®¡
document.addEventListener('DOMContentLoaded', function() {
  updateGlobalStats();
  setInterval(updateGlobalStats, 30000); // æ¯30ç§’æ›´æ–°ä¸€æ¬¡
});

function updateGlobalStats() {
  // æ¨¡æ‹Ÿç»Ÿè®¡æ•°æ®æ›´æ–°
  const now = new Date();
  
  // æ›´æ–°åŸºæœ¬ç»Ÿè®¡
  document.getElementById('global-total-visits').textContent = Math.floor(Math.random() * 10000) + 5000;
  document.getElementById('global-today-visits').textContent = Math.floor(Math.random() * 200) + 50;
  document.getElementById('global-online-users').textContent = Math.floor(Math.random() * 20) + 5;
  
  // æ›´æ–°ä¼šè¯ä¿¡æ¯
  if (window.sessionStartTime) {
    const duration = Math.floor((now - window.sessionStartTime) / 1000);
    const minutes = Math.floor(duration / 60);
    const seconds = duration % 60;
    document.getElementById('global-session-duration').textContent = 
      `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  }
  
  // æ£€æµ‹è®¾å¤‡ç±»å‹
  const deviceType = /Mobile|Android|iPhone|iPad/.test(navigator.userAgent) ? 'Mobile' : 'Desktop';
  document.getElementById('global-device-type').textContent = deviceType;
  
  // æ›´æ–°æ—¶é—´
  document.getElementById('global-last-update').textContent = now.toLocaleTimeString('zh-CN');
}

// è®°å½•ä¼šè¯å¼€å§‹æ—¶é—´
if (!window.sessionStartTime) {
  window.sessionStartTime = new Date();
}

// é¡µé¢æµè§ˆé‡è®¡æ•°
let pageViews = parseInt(sessionStorage.getItem('pageViews') || '0') + 1;
sessionStorage.setItem('pageViews', pageViews.toString());
if (document.getElementById('global-page-views')) {
  document.getElementById('global-page-views').textContent = pageViews;
}
</script>
<!-- JavaScript -->
    <script src="/assets/modern-interactions.js"></script>
    <script src="/assets/js/performance-optimizations.js"></script>
    
    <script>
    // Modal functionality
    function openModal(src, alt) {
      var modal = document.getElementById('galleryModal');
      var modalImg = document.getElementById("modalImage");
      var captionText = document.getElementById("caption");
      modal.style.display = "block";
      modalImg.src = src;
      captionText.innerHTML = alt;
    }

    function closeModal() {
      document.getElementById('galleryModal').style.display = "none";
    }
    </script>

    <!-- Page-specific scripts -->
    
    
    <!-- å…¨ç«™é€šç”¨åŠŸèƒ½è„šæœ¬ --><!-- å…¨ç«™é€šç”¨åŠŸèƒ½è„šæœ¬ -->

<!-- Theme Switcher -->
<script src="/assets/theme-switcher.js"></script>

<!-- é˜…è¯»è¿›åº¦æ¡è„šæœ¬ï¼ˆåœ¨æ”¯æŒçš„é¡µé¢åŠ è½½ï¼‰ -->


<!-- è®¿é—®ç»Ÿè®¡å’Œåœ°å›¾è„šæœ¬ -->
<script src="/assets/analytics-map.js"></script>

<script>
// å…¨å±€é¡µé¢å¢å¼º
document.addEventListener('DOMContentLoaded', function() {
  // æ ‡è®°å½“å‰é¡µé¢ä¸ºåšå®¢é¡µé¢ï¼ˆç”¨äºé˜…è¯»è¿›åº¦æ¡ï¼‰
  const pageLayout = 'page';
  const pageUrl = '/scripts/';
  
  if (pageLayout === 'post' || pageUrl.includes('/blog')) {
    document.body.classList.add('blog-page');
  }
  
  // æ·»åŠ é¡µé¢ç‰¹å®šç±»å
  if (pageUrl) {
    const pageClass = pageUrl.replace(/\//g, '-').replace(/\.html$/, '');
    if (pageClass) {
      document.body.classList.add('page' + pageClass);
    }
  }
  
  // ç¡®ä¿è®¿é—®ç»Ÿè®¡åœ¨æ‰€æœ‰é¡µé¢æ˜¾ç¤º
  if (typeof initializeAnalytics === 'function') {
    initializeAnalytics();
  }
  
  // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
  document.body.classList.add('fade-in');
});

// é¡µé¢æ€§èƒ½ä¼˜åŒ–
window.addEventListener('load', function() {
  // æ ‡è®°é¡µé¢å®Œå…¨åŠ è½½
  document.body.classList.add('page-loaded');
  
  // é¢„åŠ è½½é‡è¦èµ„æº
  const preloadLinks = [
    '/assets/theme-system.css',
    '/assets/analytics-map.css',
    '/assets/gallery-page.css'
  ];
  
  preloadLinks.forEach(href => {
    const link = document.createElement('link');
    link.rel = 'preload';
    link.as = 'style';
    link.href = href;
    document.head.appendChild(link);
  });
});
</script>
<!-- Analytics or other tracking scripts can go here -->
    
  </body>

</html>
