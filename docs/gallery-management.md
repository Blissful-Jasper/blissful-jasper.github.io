# Gallery 页面管理指南

## 概述

Gallery 页面已经配置为独立页面，可以通过导航栏访问。所有图片数据都通过 `_data/gallery.yml` 文件进行管理，图片文件存放在 `_picture/` 目录下。

## 文件结构

```
├── gallery.html                 # Gallery 主页面
├── _data/
│   └── gallery.yml              # 图片数据配置文件
├── _picture/                    # 图片文件目录
│   ├── DSC_1667.JPG
│   ├── DSC_1398.jpg
│   ├── DSC_1545.jpg
│   ├── DSC_1573.jpg
│   ├── DSC_1652.jpg
│   ├── DSC_1682.jpg
│   ├── DSC_1354.jpg
│   └── DSC_1361.jpg
└── assets/
    └── gallery-modern.css       # Gallery 页面样式
```

## 添加新图片

### 1. 上传图片文件

将新图片文件放入 `_picture/` 目录。建议使用有意义的文件名，例如：
- `conference_2024_01.jpg`
- `fieldwork_station_maintenance.jpg`
- `lab_discussion_2024.jpg`

### 2. 更新 gallery.yml 配置

在 `_data/gallery.yml` 文件中添加新的图片条目。文件按分类组织：

```yaml
- id: research                    # 分类ID
  title: 科研工作                 # 分类标题
  description: 大气科学研究的日常工作和重要时刻  # 分类描述
  photos:
    - title: 数据分析工作          # 图片标题
      description: 在实验室分析气象数据，探索大气动力学规律  # 图片描述
      image: /_picture/DSC_1667.JPG  # 图片路径（必须以 /_picture/ 开头）
      location: 研究实验室          # 拍摄地点
      date: 2024-03-15             # 拍摄日期
      camera: Canon EOS            # 相机型号
      tags: [数据分析, 实验室, 科研]  # 标签
```

### 3. 支持的分类

当前支持以下分类：
- `research` - 科研工作
- `fieldwork` - 野外科考  
- `conference` - 学术会议
- `lab` - 实验室生活
- `nature` - 自然风光
- `daily` - 日常生活

### 4. 字段说明

| 字段 | 必需 | 说明 |
|------|------|------|
| title | 是 | 图片标题 |
| description | 是 | 图片描述 |
| image | 是 | 图片路径，必须以 `/_picture/` 开头 |
| location | 否 | 拍摄地点 |
| date | 否 | 拍摄日期，格式：YYYY-MM-DD |
| camera | 否 | 相机型号 |
| tags | 否 | 标签数组 |

## 页面功能

### 1. 分类过滤

用户可以通过页面顶部的过滤按钮查看不同分类的图片：
- 全部
- 野外科考
- 学术会议
- 实验室
- 自然风光
- 日常生活

### 2. 图片浏览

- 点击图片可以在弹窗中查看大图
- 支持键盘 ESC 键关闭弹窗
- 显示图片的详细信息（标题、描述、地点、日期等）

### 3. 统计信息

页面底部显示：
- 总图片数量
- 分类数量
- 拍摄年份

## 样式自定义

Gallery 页面的样式定义在 `assets/gallery-modern.css` 文件中。你可以：

1. **修改配色方案**：更改 CSS 变量值
2. **调整布局**：修改网格和间距设置
3. **添加新效果**：增加动画和交互效果

## 最佳实践

1. **图片优化**：
   - 建议将图片大小控制在 1-2MB 以内
   - 使用适当的压缩比例
   - 保持一致的宽高比

2. **命名规范**：
   - 使用描述性的文件名
   - 避免使用中文字符
   - 使用小写字母和下划线

3. **分类管理**：
   - 保持分类的一致性
   - 避免创建过多细分的分类
   - 定期整理和更新

4. **元数据**：
   - 为每张图片添加有意义的标题和描述
   - 包含地点和日期信息
   - 使用相关的标签

## 故障排除

### 图片不显示
1. 检查图片文件是否存在于 `_picture/` 目录
2. 确认 `gallery.yml` 中的路径正确（以 `/_picture/` 开头）
3. 检查图片文件名的大小写是否匹配

### 分类过滤不工作
1. 确认分类 ID 在所有相关地方保持一致
2. 检查浏览器控制台是否有 JavaScript 错误

### 样式问题
1. 确认 CSS 文件路径正确
2. 检查浏览器是否缓存了旧的样式文件
3. 使用浏览器开发者工具检查样式规则

## 导航栏配置

Gallery 页面已经添加到网站的主导航栏中，位置在 Blog 和 Links 之间。如需调整导航顺序，请修改 `_includes/header.html` 文件。
